{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d3c718880a643a6a8854","webpack:///./src/cyclow.js","webpack:///./src/run.js","webpack:///./src/SnabbdomRenderer.js","webpack:///./~/graflow/dist/graflow.js","webpack:///./src/utils.js","webpack:///./src/Message.js","webpack:///./~/snabbdom/snabbdom.js","webpack:///./~/snabbdom/vnode.js","webpack:///./~/snabbdom/is.js","webpack:///./~/snabbdom/htmldomapi.js","webpack:///./~/snabbdom/h.js","webpack:///./~/snabbdom/thunk.js","webpack:///./~/snabbdom/modules/eventlisteners.js","webpack:///./~/snabbdom/modules/props.js","webpack:///./~/snabbdom/modules/attributes.js","webpack:///./~/snabbdom/modules/class.js","webpack:///./~/snabbdom/modules/style.js","webpack:///./~/util/util.js","webpack:///./~/process/browser.js","webpack:///./~/util/support/isBufferBrowser.js","webpack:///./~/util/~/inherits/inherits_browser.js","webpack:///./src/h.js","webpack:///./src/State.js","webpack:///./src/Events.js","webpack:///./src/View.js","webpack:///./src/Block.js","webpack:///./src/BusBlock.js","webpack:///./src/Bus.js","webpack:///./src/Inputs.js","webpack:///./src/Outputs.js","webpack:///./src/Dom.js","webpack:///./src/CustomBlocks.js"],"names":["default","runComponent","MainComponent","opts","init","Renderer","renderer","comp","components","main","target","demuxer","connections","send","run","window","addEventListener","Event","arg","Object","entries","map","name","value","getHandlers","handlers","component","event","handler","next","v","newHandler","e","isSnabbdomVNode","vdom","keys","includes","toSnabbdom","svg","filter","data","root","hook","existingUpdate","update","oldVN","newVN","elm","on","children","tag","attrs","content","props","style","klass","class","rest","oldUpdate","oldVNode","newVNode","newSvg","updateProps","oldVnode","vnode","tagName","liveProps","create","patch","toTarget","targetId","document","getElementById","body","appendChild","createElement","SnabbdomRenderer","lastVdom","snabbdomVdom","flatten","concat","mapObject","obj","reduce","acc","key","isDefined","newKey","newValue","toArray","isArray","Array","isFunction","isString","isObject","isUndefined","undefined","unique","Set","messageSymbol","Symbol","nameToblockSignal","split","block","signal","Message","args","createMessage","length","blocks","values","isMessage","isMessageForBlock","blockName","m","toMessage","converter","getHandler","h","properties","messageConverter","StateComponent","state","initial","transformate","Outputs","State","EventState","inputs","memory","serializer","EventHandler","port","isMessageForEventsBlock","valuesFromMessage","Events","setComponent","setRoot","ViewComponent","view","vdomAccumulator","hub","globalAccumulator","post","View","Block","options","stateToView","stateHandler","busHandler","bus","eventHandlers","events","dom","outputs","BusBlock","blockNames","connectionsToBus","x","connectionsFromBus","Bus","Inputs","toValues","DomComponent","action","node","Dom","CustomMessage","k","NamedBlock","CustomBlocks"],"mappings":"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QAAQL,WAAV,EAAuBlB,QAAQkB,WAA/B,EAAlB;;AAEA,KAAMM,QAAQ,mBAAShE,IAAT,CAAc,oGAM1B8D,SAN0B,CAAd,CAAd;;AASA,KAAMG,WAAW,SAAXA,QAAW,WAAY;AAC3B,UAAOC,WACHC,SAASC,cAAT,CAAwBF,QAAxB,CADG,GAEHC,SAASE,IAAT,CAAcC,WAAd,CAA0BH,SAASI,aAAT,CAAuB,KAAvB,CAA1B,CAFJ;AAGD,EAJD;;AAMA,KAAMC,mBAAmB,SAAnBA,gBAAmB,WAAY;AACnC,OAAIC,WAAWR,SAASC,QAAT,CAAf;;AAEA,UAAO,uBAAU,gBAAQ;AACvB,SAAMQ,eAAezC,WAAWH,IAAX,CAArB;AACAkC,WAAMS,QAAN,EAAgBC,YAAhB;AACAD,gBAAWC,YAAX;AACD,IAJM,CAAP;AAKD,EARD;;mBAUeF,gB;;;;;;ACnJf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF,wCAAuC,uCAAuC,gBAAgB;;AAE9F,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;;AAEF,oCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,GAAG,EAAE;;AAEtpB;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,OAAM;AACN;AACA;AACA,OAAM;AACN;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAI;;AAEJ;AACA;AACA;AACA;AACA,OAAM;AACN,KAAI;;AAEJ;AACA,qEAAoE,aAAa;AACjF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wEAAuE,eAAe;AACtF;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,wEAAuE,eAAe;AACtF;AACA;;AAEA;AACA;AACA;AACA,0DAAyD;AACzD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;;AAEF,qDAAoD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE/P,oCAAmC,iCAAiC,eAAe,eAAe,gBAAgB,oBAAoB,MAAM,0CAA0C,+BAA+B,aAAa,qBAAqB,mCAAmC,EAAE,EAAE,cAAc,WAAW,UAAU,EAAE,UAAU,MAAM,yCAAyC,EAAE,UAAU,kBAAkB,EAAE,EAAE,aAAa,EAAE,2BAA2B,0BAA0B,YAAY,EAAE,2CAA2C,8BAA8B,EAAE,OAAO,6EAA6E,EAAE,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5F,QAAD,EAAW8E,KAAX,EAAkBC,MAAlB,EAA6B;AAC9C;AACA;AACA;AACA,OAAMlF,OAAUiF,KAAV,SAAmBC,MAAzB;AACA,OAAG/E,SAASH,IAAT,CAAH,EAAmB,OAAOG,SAASH,IAAT,CAAP;AACnB,OAAGkF,WAAW,SAAX,IAAwB/E,SAAS8E,KAAT,CAA3B,EAA4C,OAAO9E,SAAS8E,KAAT,CAAP;AAC7C,EAPD;;SASmBvG,O,GAAXyG,O;SAAoBA,O,GAAAA,O;SAASM,S,GAAAA,S;SAAUC,iB,GAAAA,iB;SAAmBG,S,GAAAA,S;SAAWE,U,GAAAA,U;;;;;;AClD7E;AACA;AACA;AACA;AACA,sBAAqB,wBAAwB;AAC7C,oBAAmB,wBAAwB;AAC3C,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB,uBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oBAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oBAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,yBAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,+BAA+B;AAClD;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACjTA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,uC;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,8B;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iCAAiC;AAChD;AACA;AACA,MAAK;AACL;AACA,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,2C;;;;;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,SAAS;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B,+CAA8C,cAAc;AAC5D;AACA,uC;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;ACxBA;AACA;AACA,gCAA+B,kBAAkB,SAAS,EAAE,EAAE;AAC9D;AACA,4BAA2B,iBAAiB,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,kBAAkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;ACrFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,wBAAuB,SAAS;AAChC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA,0DAAyD;AACzD;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA,YAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;ACzkBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;AACL;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAC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","file":"cyclow.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cyclow\"] = factory();\n\telse\n\t\troot[\"cyclow\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d3c718880a643a6a8854\n **/","export {default as run} from './run'\nexport { runComponent } from './run'\nexport {default as h} from './h'\nexport {default as SnabbdomRenderer} from './SnabbdomRenderer'\nexport {default as State} from './State'\nexport {default as Events} from './Events'\nexport {default as View} from './View'\nexport {default as Block} from './Block'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/cyclow.js\n **/","import SnabbdomRenderer from './SnabbdomRenderer'\nimport {\n  Component,\n  Demuxer\n} from 'graflow'\n\n\nexport const runComponent = (MainComponent, opts = {}) => {\n  const init = opts.init || {};\n  const Renderer = opts.renderer || SnabbdomRenderer;\n\n  const comp = Component({\n    components: {\n      main: MainComponent(),\n      renderer: Renderer(opts.target),\n      demuxer: Demuxer('vdom', 'signals')\n    },\n    connections: [\n      ['in','main'],\n      ['main','demuxer'],\n      ['demuxer.vdom','renderer'],\n      ['demuxer.signals','out']\n    ]\n  });\n  comp.send({init});\n  return comp;\n};\n\nexport const run = (MainComponent, opts = {}) => {\n    window.addEventListener('DOMContentLoaded',() => {\n      return runComponent(MainComponent,opts);\n    });\n};\n\nexport default run;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/run.js\n **/","import Component from \"graflow\";\nimport {\n  isString,\n  isArray,\n  isObject,\n  isDefined,\n  isFunction,\n  flatten,\n  mapObject\n} from \"./utils\";\nimport Message from \"./Message\";\n\nimport snabbdom from \"snabbdom\";\nimport eventlisteners from \"snabbdom/modules/eventlisteners\";\nimport props from \"snabbdom/modules/props\";\nimport attributes from \"snabbdom/modules/attributes\";\nimport klass from \"snabbdom/modules/class\";\nimport style from \"snabbdom/modules/style\";\nimport h from \"snabbdom/h\";\nimport { isUndefined } from \"util\";\n\nconst Event = arg => {\n  if (isString(arg)) return [[\"dom\", arg, {}]];\n  if (isObject(arg)) {\n    return Object.entries(arg).map(([name, value]) => [\"dom\", name, value]);\n  }\n  return [[\"dom\", \"default\", arg]];\n};\n\nconst getHandlers = (handlers, component) =>\n  mapObject(handlers, (event, handler) => {\n    const next = component\n      ? v => component.send(Message(\"dom\", \"event\", Event(v)))\n      : () => {};\n\n    const newHandler = e =>\n      isFunction(handler) ? handler(e, next) : next(handler);\n\n    return [event, newHandler];\n  });\n\nconst isSnabbdomVNode = (vdom) => {\n  const keys = Object.keys(vdom);\n  if (keys.includes('sel')) return true;\n  return false;\n}\n\nconst toSnabbdom = (vdom, svg = false, component = null) => {\n  // console.log('toSnabbdom: ',{vdom});\n  if (isString(vdom)) return vdom;\n  if (isArray(vdom)) {\n    return flatten(vdom)\n      .filter(isDefined)\n      .map(v => toSnabbdom(v, svg, component));\n  }\n\n  if ( component == null ) component = vdom.component;\n  if (isSnabbdomVNode(vdom)) {\n    if ( isUndefined(vdom.data) ) vdom.data = {};\n    if ( vdom.root ) {\n      if (isUndefined(vdom.data.hook)) vdom.data.hook = {};\n      const existingUpdate = vdom.data.hook.update;\n      vdom.data.hook.update = (oldVN,newVN) => {\n        component.send(Message('dom','node',newVN.elm))\n        if (isFunction(existingUpdate)) existingUpdate(oldVN,newVN)\n      }\n    }\n    if (!isUndefined(vdom.data.on)) {\n      vdom.data.on = getHandlers(vdom.data.on,component);\n    }\n    if (!isUndefined(vdom.children) && !isString(vdom.children)) {\n        vdom.children = toSnabbdom(vdom.children,svg,component);\n    }\n    return vdom;\n  } \n\n  const {\n    tag = \"div\",\n    attrs = {},\n    on = {},\n    content = [],\n    props = {},\n    style = {},\n    hook = {}\n  } = vdom;\n\n  const { class: klass, ...rest } = attrs;\n\n  const handlers = getHandlers(on, component);\n\n  if (vdom.root) {\n    const oldUpdate = hook.update\n    hook.update = (oldVNode, newVNode) => {\n      component.send(Message(\"dom\", \"node\", newVNode.elm));\n      if (oldUpdate) oldUpdate(oldVNode,newVNode)\n    };\n  }\n\n  const newSvg = svg || tag === \"svg\";\n\n  return h(\n    tag,\n    {\n      attrs: rest,\n      style,\n      props,\n      class: klass,\n      on: handlers,\n      hook\n    },\n    toSnabbdom(content, newSvg)\n  );\n};\n\nconst updateProps = (oldVnode, vnode) => {\n  if (vnode.elm.tagName === \"INPUT\" && isDefined(vnode.data) && isDefined(vnode.data.props) && isDefined(vnode.data.props.value)) {\n    vnode.elm.value = vnode.data.props.value;\n  }\n};\n\nconst liveProps = { create: updateProps, update: updateProps };\n\nconst patch = snabbdom.init([\n  eventlisteners,\n  props,\n  attributes,\n  klass,\n  style,\n  liveProps\n]);\n\nconst toTarget = targetId => {\n  return targetId\n    ? document.getElementById(targetId)\n    : document.body.appendChild(document.createElement(\"div\"));\n};\n\nconst SnabbdomRenderer = targetId => {\n  let lastVdom = toTarget(targetId);\n\n  return Component(vdom => {\n    const snabbdomVdom = toSnabbdom(vdom);\n    patch(lastVdom, snabbdomVdom);\n    lastVdom = snabbdomVdom;\n  });\n};\n\nexport default SnabbdomRenderer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/SnabbdomRenderer.js\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"graflow\"] = factory();\n\telse\n\t\troot[\"graflow\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tObject.defineProperty(exports, 'default', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Component).default;\n\t  }\n\t});\n\tObject.defineProperty(exports, 'Component', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Component).default;\n\t  }\n\t});\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tObject.defineProperty(exports, 'Mapper', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Mapper).default;\n\t  }\n\t});\n\t\n\tvar _Filter = __webpack_require__(4);\n\t\n\tObject.defineProperty(exports, 'Filter', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Filter).default;\n\t  }\n\t});\n\t\n\tvar _Counter = __webpack_require__(5);\n\t\n\tObject.defineProperty(exports, 'Counter', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Counter).default;\n\t  }\n\t});\n\t\n\tvar _Accumulator = __webpack_require__(6);\n\t\n\tObject.defineProperty(exports, 'Accumulator', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Accumulator).default;\n\t  }\n\t});\n\t\n\tvar _Memorizer = __webpack_require__(7);\n\t\n\tObject.defineProperty(exports, 'Memorizer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Memorizer).default;\n\t  }\n\t});\n\t\n\tvar _Hub = __webpack_require__(12);\n\t\n\tObject.defineProperty(exports, 'Hub', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Hub).default;\n\t  }\n\t});\n\t\n\tvar _Muxer = __webpack_require__(13);\n\t\n\tObject.defineProperty(exports, 'Muxer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Muxer).default;\n\t  }\n\t});\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tObject.defineProperty(exports, 'Demuxer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Demuxer).default;\n\t  }\n\t});\n\t\n\tvar _SortedDemuxer = __webpack_require__(8);\n\t\n\tObject.defineProperty(exports, 'SortedDemuxer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_SortedDemuxer).default;\n\t  }\n\t});\n\t\n\tvar _Iterator = __webpack_require__(14);\n\t\n\tObject.defineProperty(exports, 'Iterator', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Iterator).default;\n\t  }\n\t});\n\t\n\tvar _Serializer = __webpack_require__(10);\n\t\n\tObject.defineProperty(exports, 'Serializer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Serializer).default;\n\t  }\n\t});\n\t\n\tvar _ArraySerializer = __webpack_require__(15);\n\t\n\tObject.defineProperty(exports, 'ArraySerializer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_ArraySerializer).default;\n\t  }\n\t});\n\t\n\tvar _Repeater = __webpack_require__(16);\n\t\n\tObject.defineProperty(exports, 'Repeater', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Repeater).default;\n\t  }\n\t});\n\t\n\tvar _UniqueFilter = __webpack_require__(17);\n\t\n\tObject.defineProperty(exports, 'UniqueFilter', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_UniqueFilter).default;\n\t  }\n\t});\n\t\n\tvar _Logger = __webpack_require__(18);\n\t\n\tObject.defineProperty(exports, 'Logger', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Logger).default;\n\t  }\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tObject.defineProperty(exports, 'Chain', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Chain).default;\n\t  }\n\t});\n\t\n\tvar _Checker = __webpack_require__(19);\n\t\n\tObject.defineProperty(exports, 'Checker', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Checker).default;\n\t  }\n\t});\n\t\n\tvar _Guard = __webpack_require__(20);\n\t\n\tObject.defineProperty(exports, 'Guard', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Guard).default;\n\t  }\n\t});\n\t\n\tvar _Identity = __webpack_require__(21);\n\t\n\tObject.defineProperty(exports, 'Identity', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Identity).default;\n\t  }\n\t});\n\t\n\tvar _Delayer = __webpack_require__(22);\n\t\n\tObject.defineProperty(exports, 'Delayer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Delayer).default;\n\t  }\n\t});\n\t\n\tvar _Ticker = __webpack_require__(23);\n\t\n\tObject.defineProperty(exports, 'Ticker', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Ticker).default;\n\t  }\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar _componentId = 0;\n\t\n\tvar nextId = function nextId() {\n\t  return _componentId++;\n\t};\n\t\n\tvar componentFromFunction = function componentFromFunction(func) {\n\t  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\t\n\t  var node = toNode(func);\n\t\n\t  return {\n\t    send: function send() {\n\t      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      return node.send(value);\n\t    },\n\t    on: function on(handler) {\n\t      return node.on(handler);\n\t    },\n\t    off: function off(id) {\n\t      return node.off(id);\n\t    },\n\t    inputs: {\n\t      default: node\n\t    },\n\t    outputs: {\n\t      default: node\n\t    },\n\t    id: node.id,\n\t    name: name\n\t  };\n\t};\n\t\n\tvar toNode = function toNode(arg) {\n\t  if ((0, _utils.isFunction)(arg)) return node(arg);\n\t  return arg;\n\t};\n\t\n\tvar node = function node(onNext) {\n\t  var id = nextId();\n\t  var queue = [];\n\t  var listeners = {};\n\t\n\t  var broadcast = function broadcast(arg) {\n\t    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    arg.forEach(function (l) {\n\t      return l.addToQueue(value);\n\t    });\n\t    arg.forEach(function (l) {\n\t      return l.processQueue();\n\t    });\n\t  };\n\t\n\t  var next = function next(v) {\n\t    return broadcast(Object.values(listeners), v);\n\t  };\n\t\n\t  var addListener = function addListener(node) {\n\t    listeners[node.id] = node;\n\t    return node.id;\n\t  };\n\t  var removeListener = function removeListener(id) {\n\t    delete listeners[id];\n\t  };\n\t  var on = function on(handler) {\n\t    return addListener(toNode(function (v) {\n\t      return handler(v);\n\t    }));\n\t  };\n\t  var addToQueue = function addToQueue(v) {\n\t    return queue.push(v);\n\t  };\n\t  var processQueue = function processQueue() {\n\t    return (0, _utils.applyAndEmpty)(queue, function (v) {\n\t      return onNext(v, next);\n\t    });\n\t  };\n\t  var off = function off(id) {\n\t    return removeListener(id);\n\t  };\n\t\n\t  var send = function send() {\n\t    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    addToQueue(value);\n\t    processQueue();\n\t  };\n\t\n\t  return {\n\t    on: on,\n\t    off: off,\n\t    send: send,\n\t    addListener: addListener,\n\t    addToQueue: addToQueue,\n\t    processQueue: processQueue,\n\t    id: id\n\t  };\n\t};\n\t\n\tvar selectNode = function selectNode(name, components) {\n\t  var io = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'inputs';\n\t\n\t  var direction = io === 'inputs' ? 'inputs' : 'outputs';\n\t\n\t  var _name$split = name.split('.', 2),\n\t      _name$split2 = _slicedToArray(_name$split, 2),\n\t      componentName = _name$split2[0],\n\t      _name$split2$ = _name$split2[1],\n\t      nodeName = _name$split2$ === undefined ? 'default' : _name$split2$;\n\t\n\t  var component = components[componentName];\n\t  if ((0, _utils.isUndefined)(component)) {\n\t    throw new Error(componentName + ' component not found!');\n\t  }\n\t\n\t  var nodes = component[direction];\n\t\n\t  if ((0, _utils.isUndefined)(nodes) || (0, _utils.isUndefined)(nodes[nodeName])) {\n\t    throw new Error(name + ' port not found!');\n\t  }\n\t\n\t  return nodes[nodeName];\n\t};\n\t\n\tvar componentFromObject = function componentFromObject(obj) {\n\t  var components = obj.components,\n\t      _obj$connections = obj.connections,\n\t      connections = _obj$connections === undefined ? [] : _obj$connections,\n\t      _obj$inputs = obj.inputs,\n\t      inputs = _obj$inputs === undefined ? [] : _obj$inputs,\n\t      _obj$outputs = obj.outputs,\n\t      outputs = _obj$outputs === undefined ? [] : _obj$outputs,\n\t      _obj$debug = obj.debug,\n\t      debug = _obj$debug === undefined ? [] : _obj$debug,\n\t      _obj$name = obj.name,\n\t      name = _obj$name === undefined ? '' : _obj$name;\n\t\n\t\n\t  var id = nextId();\n\t  var inputNames = (0, _utils.unique)(inputs.concat('default'));\n\t  var outputNames = (0, _utils.unique)(outputs.concat('default'));\n\t\n\t  var toNodes = function toNodes(i) {\n\t    return [i, node(function (v, next) {\n\t      return next(v);\n\t    })];\n\t  };\n\t  var inNodes = (0, _utils.arrayToObject)(inputNames, toNodes);\n\t  var outNodes = (0, _utils.arrayToObject)(outputNames, toNodes);\n\t\n\t  components.in = {\n\t    inputs: inNodes,\n\t    outputs: inNodes\n\t  };\n\t  components.out = {\n\t    inputs: outNodes,\n\t    outputs: outNodes\n\t  };\n\t\n\t  connections.forEach(function (_ref) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        from = _ref2[0],\n\t        to = _ref2[1];\n\t\n\t    var outNode = selectNode(from, components, 'outputs');\n\t    var inNode = selectNode(to, components, 'inputs');\n\t    outNode.addListener(inNode);\n\t  });\n\t\n\t  debug.forEach(function (nodeName) {\n\t    var debugNode = selectNode(nodeName, components, 'outputs');\n\t    debugNode.on(function (v) {\n\t      return console.log('DEBUG Component(' + name + ':' + id + ').' + nodeName + ': ', v);\n\t    });\n\t  });\n\t\n\t  var on = function on() {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    var _args$splice$reverse = args.splice(0, 2).reverse(),\n\t        _args$splice$reverse2 = _slicedToArray(_args$splice$reverse, 2),\n\t        handler = _args$splice$reverse2[0],\n\t        _args$splice$reverse3 = _args$splice$reverse2[1],\n\t        nodeName = _args$splice$reverse3 === undefined ? 'default' : _args$splice$reverse3;\n\t\n\t    if ((0, _utils.isUndefined)(outNodes[nodeName])) throw new Error('Component(' + name + ':' + id + ')/on: outNodes[' + nodeName + '] not found');\n\t    return outNodes[nodeName].on(handler);\n\t  };\n\t\n\t  var off = function off() {\n\t    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      args[_key2] = arguments[_key2];\n\t    }\n\t\n\t    var _args$splice$reverse4 = args.splice(0, 2).reverse(),\n\t        _args$splice$reverse5 = _slicedToArray(_args$splice$reverse4, 2),\n\t        id = _args$splice$reverse5[0],\n\t        _args$splice$reverse6 = _args$splice$reverse5[1],\n\t        nodeName = _args$splice$reverse6 === undefined ? 'default' : _args$splice$reverse6;\n\t\n\t    if ((0, _utils.isUndefined)(outNodes[nodeName])) throw new Error('Component(' + name + ':' + id + ')/off: outNodes[' + nodeName + '] not found');\n\t    return outNodes[nodeName].off(id);\n\t  };\n\t\n\t  var send = function send() {\n\t    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n\t      args[_key3] = arguments[_key3];\n\t    }\n\t\n\t    var _args$splice$reverse7 = args.splice(0, 2).reverse(),\n\t        _args$splice$reverse8 = _slicedToArray(_args$splice$reverse7, 2),\n\t        _args$splice$reverse9 = _args$splice$reverse8[0],\n\t        value = _args$splice$reverse9 === undefined ? {} : _args$splice$reverse9,\n\t        _args$splice$reverse10 = _args$splice$reverse8[1],\n\t        nodeName = _args$splice$reverse10 === undefined ? 'default' : _args$splice$reverse10;\n\t\n\t    if ((0, _utils.isUndefined)(inNodes[nodeName])) throw new Error('Component(' + name + ':' + id + ')/send: inNodes[' + nodeName + '] not found');\n\t    inNodes[nodeName].send(value);\n\t  };\n\t\n\t  return {\n\t    send: send,\n\t    on: on,\n\t    off: off,\n\t    inputs: inNodes,\n\t    outputs: outNodes,\n\t    id: id,\n\t    name: name\n\t  };\n\t};\n\t\n\tvar Component = function Component(arg) {\n\t  var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Function';\n\t\n\t  if ((0, _utils.isFunction)(arg)) return componentFromFunction(arg, name);\n\t  return componentFromObject(arg);\n\t};\n\t\n\texports.default = Component;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar pipe = function pipe() {\n\t  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    funcs[_key] = arguments[_key];\n\t  }\n\t\n\t  return funcs.reduce(function (f, g) {\n\t    return function () {\n\t      return g(f.apply(undefined, arguments));\n\t    };\n\t  });\n\t};\n\t\n\tvar isFunction = function isFunction(arg) {\n\t  return typeof arg === 'function';\n\t};\n\tvar isObject = function isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object';\n\t};\n\tvar isUndefined = function isUndefined(arg) {\n\t  return arg === undefined;\n\t};\n\t\n\tvar pairToObject = function pairToObject(_ref) {\n\t  var _ref2 = _slicedToArray(_ref, 2),\n\t      key = _ref2[0],\n\t      value = _ref2[1];\n\t\n\t  return _defineProperty({}, key, value);\n\t};\n\t\n\tvar pairsToObject = function pairsToObject(arr) {\n\t  return arr.reduce(function (obj, pair) {\n\t    return _extends({}, obj, pairToObject(pair));\n\t  }, {});\n\t};\n\t\n\tvar arrayToObject = function arrayToObject(arr, func) {\n\t  return pairsToObject(arr.map(func));\n\t};\n\t\n\tvar applyAndEmpty = function applyAndEmpty(arr, func) {\n\t  var values = arr.length;\n\t  for (var i = 1; i <= values; i++) {\n\t    func(arr.shift());\n\t  }\n\t};\n\t\n\tvar flatten = function flatten(v) {\n\t  var _ref4;\n\t\n\t  return (_ref4 = []).concat.apply(_ref4, _toConsumableArray(v));\n\t};\n\t\n\tvar unique = function unique(arg) {\n\t  return [].concat(_toConsumableArray(new Set(arg)));\n\t};\n\t\n\tvar toArray = function toArray(arg) {\n\t  return [].concat(arg);\n\t};\n\t\n\texports.pipe = pipe;\n\texports.isFunction = isFunction;\n\texports.isObject = isObject;\n\texports.isUndefined = isUndefined;\n\texports.arrayToObject = arrayToObject;\n\texports.pairToObject = pairToObject;\n\texports.pairsToObject = pairsToObject;\n\texports.applyAndEmpty = applyAndEmpty;\n\texports.flatten = flatten;\n\texports.unique = unique;\n\texports.toArray = toArray;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Mapper = function Mapper(f) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    return next(f(v));\n\t  });\n\t};\n\t\n\texports.default = Mapper;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Filter = function Filter(cond) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (cond(v)) next(v);\n\t  });\n\t};\n\t\n\texports.default = Filter;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Counter = function Counter() {\n\t  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\n\t  var value = initial;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    value++;\n\t    next(value);\n\t  });\n\t};\n\t\n\texports.default = Counter;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Accumulator = function Accumulator() {\n\t  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  var obj = initial;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) !== 'object') return;\n\t    Object.entries(v).forEach(function (_ref) {\n\t      var _ref2 = _slicedToArray(_ref, 2),\n\t          k = _ref2[0],\n\t          v = _ref2[1];\n\t\n\t      obj[k] = v;\n\t    });\n\t    next(obj);\n\t  });\n\t};\n\t\n\texports.default = Accumulator;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _SortedDemuxer = __webpack_require__(8);\n\t\n\tvar _SortedDemuxer2 = _interopRequireDefault(_SortedDemuxer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Memorizer = function Memorizer() {\n\t  var memory = void 0;\n\t\n\t  return (0, _Component2.default)({\n\t    inputs: ['memory', 'value'],\n\t    components: {\n\t      memory: (0, _Component2.default)(function (v) {\n\t        memory = v;\n\t      }),\n\t      mapper: (0, _Mapper2.default)(function (value) {\n\t        return { value: value, memory: memory };\n\t      }),\n\t      demuxer: (0, _SortedDemuxer2.default)('memory', 'value')\n\t    },\n\t    connections: [['in.memory', 'memory'], ['in.value', 'mapper'], ['mapper', 'out'], ['in', 'demuxer'], ['demuxer.memory', 'memory'], ['demuxer.value', 'mapper']]\n\t  });\n\t};\n\t\n\texports.default = Memorizer;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _Serializer = __webpack_require__(10);\n\t\n\tvar _Serializer2 = _interopRequireDefault(_Serializer);\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar SortedDemuxer = function SortedDemuxer() {\n\t  for (var _len = arguments.length, outputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    outputs[_key] = arguments[_key];\n\t  }\n\t\n\t  return (0, _Chain2.default)((0, _Mapper2.default)(function (obj) {\n\t    return outputs.map(function (k) {\n\t      return [k, obj[k]];\n\t    });\n\t  }), (0, _Serializer2.default)(), (0, _Mapper2.default)(_utils.pairToObject), _Demuxer2.default.apply(undefined, outputs));\n\t};\n\t\n\texports.default = SortedDemuxer;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\t// Chain takes a list of Components and chains the inputs to the outputs.\n\tvar Chain = function Chain() {\n\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t    args[_key] = arguments[_key];\n\t  }\n\t\n\t  var lastIndex = args.length - 1;\n\t  var _ref = [args[0], args[lastIndex]],\n\t      first = _ref[0],\n\t      last = _ref[1];\n\t\n\t\n\t  var components = args.reduce(function (obj, v, i) {\n\t    return _extends({}, obj, _defineProperty({}, 'c' + i, v));\n\t  }, {});\n\t\n\t  var inputs = Object.keys(first.inputs);\n\t  var outputs = Object.keys(last.outputs);\n\t\n\t  var connections = [].concat(_toConsumableArray(Array(lastIndex).keys())).map(function (i) {\n\t    return ['c' + i, 'c' + (i + 1)];\n\t  }).concat(inputs.map(function (input) {\n\t    return ['in.' + input, 'c0.' + input];\n\t  })).concat(outputs.map(function (output) {\n\t    return ['c' + lastIndex + '.' + output, 'out.' + output];\n\t  }));\n\t\n\t  return (0, _Component2.default)({ components: components, connections: connections, inputs: inputs, outputs: outputs });\n\t};\n\t\n\texports.default = Chain;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Serializer = function Serializer() {\n\t  return (0, _Component2.default)(function (iterable, next) {\n\t    if (iterable[Symbol.iterator]) {\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = iterable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var i = _step.value;\n\t          next(i);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\texports.default = Serializer;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Demuxer = function Demuxer() {\n\t  for (var _len = arguments.length, outputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    outputs[_key] = arguments[_key];\n\t  }\n\t\n\t  return (0, _Component2.default)({\n\t    components: outputs.reduce(function (acc, output) {\n\t      acc[output] = (0, _Component2.default)(function (v, next) {\n\t        if (v[output] !== undefined) next(v[output]);\n\t      });\n\t      return acc;\n\t    }, {}),\n\t    outputs: outputs,\n\t    connections: (0, _utils.flatten)(outputs.map(function (out) {\n\t      return [['in', out], [out, 'out.' + out]];\n\t    })).concat([['in', 'out']])\n\t  });\n\t};\n\t\n\texports.default = Demuxer;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar Hub = function Hub() {\n\t  for (var _len = arguments.length, inputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    inputs[_key] = arguments[_key];\n\t  }\n\t\n\t  var components = {};\n\t  var connections = [];\n\t\n\t  inputs.forEach(function (i) {\n\t    components[i] = (0, _Mapper2.default)(function (v) {\n\t      return _defineProperty({}, i, v);\n\t    });\n\t    connections.push(['in.' + i, i], [i, 'out'], ['in', 'out']);\n\t  });\n\t\n\t  return (0, _Component2.default)({ components: components, connections: connections, inputs: inputs });\n\t};\n\t\n\texports.default = Hub;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Hub = __webpack_require__(12);\n\t\n\tvar _Hub2 = _interopRequireDefault(_Hub);\n\t\n\tvar _Accumulator = __webpack_require__(6);\n\t\n\tvar _Accumulator2 = _interopRequireDefault(_Accumulator);\n\t\n\tvar _Filter = __webpack_require__(4);\n\t\n\tvar _Filter2 = _interopRequireDefault(_Filter);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Muxer = function Muxer() {\n\t  for (var _len = arguments.length, inputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    inputs[_key] = arguments[_key];\n\t  }\n\t\n\t  return (0, _Chain2.default)(_Hub2.default.apply(undefined, inputs), (0, _Accumulator2.default)(), (0, _Filter2.default)(function (v) {\n\t    return inputs.every(function (i) {\n\t      return v[i] !== undefined;\n\t    });\n\t  }));\n\t};\n\t\n\texports.default = Muxer;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Iterator = function Iterator(iterable) {\n\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t      _ref$cyclic = _ref.cyclic,\n\t      cyclic = _ref$cyclic === undefined ? false : _ref$cyclic;\n\t\n\t  var iterator = iterable[Symbol.iterator]();\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    var _iterator$next = iterator.next(),\n\t        value = _iterator$next.value,\n\t        done = _iterator$next.done;\n\t\n\t    if (done && cyclic) {\n\t      iterator = iterable[Symbol.iterator]();\n\t      var _iterator$next2 = iterator.next();\n\t\n\t      value = _iterator$next2.value;\n\t      done = _iterator$next2.done;\n\t    }\n\t\n\t    if (!done) next(value);\n\t  });\n\t};\n\t\n\texports.default = Iterator;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _Serializer = __webpack_require__(10);\n\t\n\tvar _Serializer2 = _interopRequireDefault(_Serializer);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ArraySerializer = function ArraySerializer() {\n\t  return (0, _Chain2.default)((0, _Mapper2.default)(_utils.toArray), (0, _Serializer2.default)());\n\t};\n\t\n\texports.default = ArraySerializer;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Repeater = function Repeater(times) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    for (var i = 1; i <= times; i++) {\n\t      next(v);\n\t    }\n\t  });\n\t};\n\t\n\texports.default = Repeater;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar UniqueFilter = function UniqueFilter(initialValue) {\n\t  var lastValue = initialValue;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (v !== lastValue) {\n\t      lastValue = v;\n\t      next(v);\n\t    }\n\t  });\n\t};\n\t\n\texports.default = UniqueFilter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Logger = function Logger() {\n\t  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t      prefix = _ref.prefix,\n\t      _ref$log = _ref.log,\n\t      log = _ref$log === undefined ? console.log : _ref$log;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (prefix === undefined) {\n\t      log(v);\n\t    } else {\n\t      log(prefix, v);\n\t    }\n\t    next(v);\n\t  });\n\t};\n\t\n\texports.default = Logger;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Checker = function Checker(cond) {\n\t  return (0, _Chain2.default)((0, _Mapper2.default)(function (v) {\n\t    return cond(v) ? { true: v } : { false: v };\n\t  }), (0, _Demuxer2.default)('true', 'false'));\n\t};\n\t\n\texports.default = Checker;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar Guard = function Guard(conds) {\n\t  return (0, _Chain2.default)((0, _Component2.default)(function (v, next) {\n\t    Object.entries(conds).forEach(function (_ref) {\n\t      var _ref2 = _slicedToArray(_ref, 2),\n\t          name = _ref2[0],\n\t          cond = _ref2[1];\n\t\n\t      var others = [];\n\t      var match = false;\n\t\n\t      if (cond === 'otherwise') {\n\t        others.push(name);\n\t      } else if (typeof cond === 'function' && cond(v)) {\n\t        next(_defineProperty({}, name, v));\n\t        match = true;\n\t      }\n\t\n\t      if (!match) others.forEach(function (name) {\n\t        return next(_defineProperty({}, name, v));\n\t      });\n\t    });\n\t  }), _Demuxer2.default.apply(undefined, _toConsumableArray(Object.keys(conds))));\n\t};\n\t\n\texports.default = Guard;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Identity = function Identity() {\n\t  return (0, _Mapper2.default)(function (v) {\n\t    return v;\n\t  });\n\t};\n\t\n\texports.default = Identity;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Delayer = function Delayer(ms) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    setTimeout(function () {\n\t      return next(v);\n\t    }, ms);\n\t  });\n\t};\n\t\n\texports.default = Delayer;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Ticker = function Ticker(ms) {\n\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t      _ref$value = _ref.value,\n\t      value = _ref$value === undefined ? {} : _ref$value,\n\t      _ref$initialDelay = _ref.initialDelay,\n\t      initialDelay = _ref$initialDelay === undefined ? false : _ref$initialDelay;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (!initialDelay) next(value);\n\t    setInterval(function () {\n\t      return next(value);\n\t    }, ms);\n\t  });\n\t};\n\t\n\texports.default = Ticker;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=graflow.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/graflow/dist/graflow.js\n ** module id = 3\n ** module chunks = 0\n **/","const flatten = v => [].concat(...v)\n\nconst mapObject = (obj, map) => Object.entries(obj)\n  .reduce((acc, [key, value]) => {\n    const v = map(key, value)\n    if(isDefined(v)) {\n      const [newKey, newValue] = v\n      acc[newKey] = newValue\n    }\n    return acc\n  }, {})\n\nconst toArray = arg => [].concat(arg)\n\nconst isArray = Array.isArray\n\nconst isFunction = arg => typeof arg === 'function'\n\nconst isString = arg => typeof arg === 'string'\n\nconst isObject = arg => typeof arg === 'object'\n\nconst isUndefined = arg => arg === undefined\n\nconst isDefined = arg => arg !== undefined\n\nconst unique = arg => [...new Set(arg)]\n\nexport {flatten, mapObject, unique, toArray,\n  isArray, isFunction, isString, isObject, isUndefined, isDefined}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import {toArray, isArray, isObject, isDefined} from './utils'\n\nconst messageSymbol = Symbol('Message')\n\nconst nameToblockSignal = name => {\n  const [block, signal = 'default'] = name.split('.', 2)\n  return [block, signal]\n}\n\nconst Message = (...args) => {\n  if(isObject(args[0])) return createMessage(args[0])\n\n  let block, signal, value = {}\n\n  if(args.length === 1) {\n    [block, signal] = nameToblockSignal(args[0])\n  } else if(args.length === 2) {\n    [block, signal] = nameToblockSignal(args[0])\n    value = args[1]\n  } else if(args.length === 3) {\n    [block, signal, value] = args\n  }\n\n  return createMessage({blocks: block, values: {[signal]: value}})\n}\n\nconst createMessage = ({blocks, values = {default: {}}}) => ({\n  blocks: isDefined(blocks) ? toArray(blocks) : undefined,\n  values: isObject(values) ? values : {default: values},\n  [messageSymbol]: true\n})\n\nconst isMessage = arg => arg[messageSymbol]\nconst isMessageForBlock = (blockName) => (m) => isMessage(m) && m.blocks.includes(blockName);\n\nconst toMessage = (arg, converter) => {\n  if(isMessage(arg)) return arg\n  if(isArray(arg)) return arg.map(toMessage)\n  return [].concat(converter(arg))\n}\n\nconst getHandler = (handlers, block, signal) => {\n  // const {blocks, values} = message\n  // const block = blocks[0]\n  // const signal = Object.entries(values)[0][0]\n  const name = `${block}.${signal}`\n  if(handlers[name]) return handlers[name]\n  if(signal === 'default' && handlers[block]) return handlers[block]\n}\n\nexport {Message as default, Message, isMessage,isMessageForBlock, toMessage, getHandler}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Message.js\n **/","\"use strict\";\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nvar htmldomapi_1 = require(\"./htmldomapi\");\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode_1.default('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nvar h_1 = require(\"./h\");\nexports.h = h_1.h;\nvar thunk_1 = require(\"./thunk\");\nexports.thunk = thunk_1.thunk;\nfunction init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmldomapi_1.default;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode_1.default(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.id = sel.slice(hash + 1, dot);\n            if (dotIdx > 0)\n                elm.className = sel.slice(dot + 1).replace(/\\./g, ' ');\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n        }\n        else if (newStartIdx > newEndIdx) {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\nexports.init = init;\n//# sourceMappingURL=snabbdom.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/snabbdom.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\nfunction vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexports.vnode = vnode;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = vnode;\n//# sourceMappingURL=vnode.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/vnode.js\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\nexports.array = Array.isArray;\nfunction primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\nexports.primitive = primitive;\n//# sourceMappingURL=is.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/is.js\n ** module id = 8\n ** module chunks = 0\n **/","\"use strict\";\nfunction createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexports.htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/htmldomapi.js\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nfunction h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode_1.vnode(undefined, undefined, undefined, children[i]);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode_1.vnode(sel, data, children, text, undefined);\n}\nexports.h = h;\n;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = h;\n//# sourceMappingURL=h.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/h.js\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\nvar h_1 = require(\"./h\");\nfunction copyToThunk(vnode, thunk) {\n    thunk.elm = vnode.elm;\n    vnode.data.fn = thunk.data.fn;\n    vnode.data.args = thunk.data.args;\n    thunk.data = vnode.data;\n    thunk.children = vnode.children;\n    thunk.text = vnode.text;\n    thunk.elm = vnode.elm;\n}\nfunction init(thunk) {\n    var cur = thunk.data;\n    var vnode = cur.fn.apply(undefined, cur.args);\n    copyToThunk(vnode, thunk);\n}\nfunction prepatch(oldVnode, thunk) {\n    var i, old = oldVnode.data, cur = thunk.data;\n    var oldArgs = old.args, args = cur.args;\n    if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n        copyToThunk(cur.fn.apply(undefined, args), thunk);\n    }\n    for (i = 0; i < args.length; ++i) {\n        if (oldArgs[i] !== args[i]) {\n            copyToThunk(cur.fn.apply(undefined, args), thunk);\n            return;\n        }\n    }\n    copyToThunk(oldVnode, thunk);\n}\nexports.thunk = function thunk(sel, key, fn, args) {\n    if (args === undefined) {\n        args = fn;\n        fn = key;\n        key = undefined;\n    }\n    return h_1.h(sel, {\n        key: key,\n        hook: { init: init, prepatch: prepatch },\n        fn: fn,\n        args: args\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.thunk;\n//# sourceMappingURL=thunk.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/thunk.js\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\nfunction invokeHandler(handler, vnode, event) {\n    if (typeof handler === \"function\") {\n        // call function handler\n        handler.call(vnode, event, vnode);\n    }\n    else if (typeof handler === \"object\") {\n        // call handler with arguments\n        if (typeof handler[0] === \"function\") {\n            // special case for single argument for performance\n            if (handler.length === 2) {\n                handler[0].call(vnode, handler[1], event, vnode);\n            }\n            else {\n                var args = handler.slice(1);\n                args.push(event);\n                args.push(vnode);\n                handler[0].apply(vnode, args);\n            }\n        }\n        else {\n            // call multiple handlers\n            for (var i = 0; i < handler.length; i++) {\n                invokeHandler(handler[i]);\n            }\n        }\n    }\n}\nfunction handleEvent(event, vnode) {\n    var name = event.type, on = vnode.data.on;\n    // call event handler(s) if exists\n    if (on && on[name]) {\n        invokeHandler(on[name], vnode, event);\n    }\n}\nfunction createListener() {\n    return function handler(event) {\n        handleEvent(event, handler.vnode);\n    };\n}\nfunction updateEventListeners(oldVnode, vnode) {\n    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;\n    // optimization for reused immutable handlers\n    if (oldOn === on) {\n        return;\n    }\n    // remove existing listeners which no longer used\n    if (oldOn && oldListener) {\n        // if element changed or deleted we remove all existing listeners unconditionally\n        if (!on) {\n            for (name in oldOn) {\n                // remove listener if element was changed or existing listeners removed\n                oldElm.removeEventListener(name, oldListener, false);\n            }\n        }\n        else {\n            for (name in oldOn) {\n                // remove listener if existing listener removed\n                if (!on[name]) {\n                    oldElm.removeEventListener(name, oldListener, false);\n                }\n            }\n        }\n    }\n    // add new listeners which has not already attached\n    if (on) {\n        // reuse existing listener or create new\n        var listener = vnode.listener = oldVnode.listener || createListener();\n        // update vnode for listener\n        listener.vnode = vnode;\n        // if element changed or added we add all needed listeners unconditionally\n        if (!oldOn) {\n            for (name in on) {\n                // add listener if element was changed or new listeners added\n                elm.addEventListener(name, listener, false);\n            }\n        }\n        else {\n            for (name in on) {\n                // add listener if new listener added\n                if (!oldOn[name]) {\n                    elm.addEventListener(name, listener, false);\n                }\n            }\n        }\n    }\n}\nexports.eventListenersModule = {\n    create: updateEventListeners,\n    update: updateEventListeners,\n    destroy: updateEventListeners\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.eventListenersModule;\n//# sourceMappingURL=eventlisteners.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/eventlisteners.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\nfunction updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexports.propsModule = { create: updateProps, update: updateProps };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.propsModule;\n//# sourceMappingURL=props.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/props.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\nvar NamespaceURIs = {\n    \"xlink\": \"http://www.w3.org/1999/xlink\"\n};\nvar booleanAttrs = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"compact\", \"controls\", \"declare\",\n    \"default\", \"defaultchecked\", \"defaultmuted\", \"defaultselected\", \"defer\", \"disabled\", \"draggable\",\n    \"enabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"inert\", \"ismap\", \"itemscope\", \"loop\", \"multiple\",\n    \"muted\", \"nohref\", \"noresize\", \"noshade\", \"novalidate\", \"nowrap\", \"open\", \"pauseonexit\", \"readonly\",\n    \"required\", \"reversed\", \"scoped\", \"seamless\", \"selected\", \"sortable\", \"spellcheck\", \"translate\",\n    \"truespeed\", \"typemustmatch\", \"visible\"];\nvar booleanAttrsDict = Object.create(null);\nfor (var i = 0, len = booleanAttrs.length; i < len; i++) {\n    booleanAttrsDict[booleanAttrs[i]] = true;\n}\nfunction updateAttrs(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldAttrs = oldVnode.data.attrs, attrs = vnode.data.attrs, namespaceSplit;\n    if (!oldAttrs && !attrs)\n        return;\n    if (oldAttrs === attrs)\n        return;\n    oldAttrs = oldAttrs || {};\n    attrs = attrs || {};\n    // update modified attributes, add new attributes\n    for (key in attrs) {\n        cur = attrs[key];\n        old = oldAttrs[key];\n        if (old !== cur) {\n            if (!cur && booleanAttrsDict[key])\n                elm.removeAttribute(key);\n            else {\n                namespaceSplit = key.split(\":\");\n                if (namespaceSplit.length > 1 && NamespaceURIs.hasOwnProperty(namespaceSplit[0]))\n                    elm.setAttributeNS(NamespaceURIs[namespaceSplit[0]], key, cur);\n                else\n                    elm.setAttribute(key, cur);\n            }\n        }\n    }\n    //remove removed attributes\n    // use `in` operator since the previous `for` iteration uses it (.i.e. add even attributes with undefined value)\n    // the other option is to remove all attributes with value == undefined\n    for (key in oldAttrs) {\n        if (!(key in attrs)) {\n            elm.removeAttribute(key);\n        }\n    }\n}\nexports.attributesModule = { create: updateAttrs, update: updateAttrs };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.attributesModule;\n//# sourceMappingURL=attributes.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/attributes.js\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\nfunction updateClass(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldClass = oldVnode.data.class, klass = vnode.data.class;\n    if (!oldClass && !klass)\n        return;\n    if (oldClass === klass)\n        return;\n    oldClass = oldClass || {};\n    klass = klass || {};\n    for (name in oldClass) {\n        if (!klass[name]) {\n            elm.classList.remove(name);\n        }\n    }\n    for (name in klass) {\n        cur = klass[name];\n        if (cur !== oldClass[name]) {\n            elm.classList[cur ? 'add' : 'remove'](name);\n        }\n    }\n}\nexports.classModule = { create: updateClass, update: updateClass };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.classModule;\n//# sourceMappingURL=class.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/class.js\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\nvar nextFrame = function (fn) { raf(function () { raf(fn); }); };\nfunction setNextFrame(obj, prop, val) {\n    nextFrame(function () { obj[prop] = val; });\n}\nfunction updateStyle(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldStyle = oldVnode.data.style, style = vnode.data.style;\n    if (!oldStyle && !style)\n        return;\n    if (oldStyle === style)\n        return;\n    oldStyle = oldStyle || {};\n    style = style || {};\n    var oldHasDel = 'delayed' in oldStyle;\n    for (name in oldStyle) {\n        if (!style[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.removeProperty(name);\n            }\n            else {\n                elm.style[name] = '';\n            }\n        }\n    }\n    for (name in style) {\n        cur = style[name];\n        if (name === 'delayed') {\n            for (name in style.delayed) {\n                cur = style.delayed[name];\n                if (!oldHasDel || cur !== oldStyle.delayed[name]) {\n                    setNextFrame(elm.style, name, cur);\n                }\n            }\n        }\n        else if (name !== 'remove' && cur !== oldStyle[name]) {\n            if (name[0] === '-' && name[1] === '-') {\n                elm.style.setProperty(name, cur);\n            }\n            else {\n                elm.style[name] = cur;\n            }\n        }\n    }\n}\nfunction applyDestroyStyle(vnode) {\n    var style, name, elm = vnode.elm, s = vnode.data.style;\n    if (!s || !(style = s.destroy))\n        return;\n    for (name in style) {\n        elm.style[name] = style[name];\n    }\n}\nfunction applyRemoveStyle(vnode, rm) {\n    var s = vnode.data.style;\n    if (!s || !s.remove) {\n        rm();\n        return;\n    }\n    var name, elm = vnode.elm, i = 0, compStyle, style = s.remove, amount = 0, applied = [];\n    for (name in style) {\n        applied.push(name);\n        elm.style[name] = style[name];\n    }\n    compStyle = getComputedStyle(elm);\n    var props = compStyle['transition-property'].split(', ');\n    for (; i < props.length; ++i) {\n        if (applied.indexOf(props[i]) !== -1)\n            amount++;\n    }\n    elm.addEventListener('transitionend', function (ev) {\n        if (ev.target === elm)\n            --amount;\n        if (amount === 0)\n            rm();\n    });\n}\nexports.styleModule = {\n    create: updateStyle,\n    update: updateStyle,\n    destroy: applyDestroyStyle,\n    remove: applyRemoveStyle\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.styleModule;\n//# sourceMappingURL=style.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/style.js\n ** module id = 16\n ** module chunks = 0\n **/","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/util/util.js\n ** module id = 17\n ** module chunks = 0\n **/","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 18\n ** module chunks = 0\n **/","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/util/support/isBufferBrowser.js\n ** module id = 19\n ** module chunks = 0\n **/","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/util/~/inherits/inherits_browser.js\n ** module id = 20\n ** module chunks = 0\n **/","const h = (tagName, properties = {}, children = []) => ({\n  ...properties,\n  tag: tagName,\n  content: children\n})\n\nexport default h\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/h.js\n **/","import {Chain, Mapper, Filter} from 'graflow'\nimport {toMessage, Message, isMessage} from './Message'\nimport {isString, isObject} from './utils'\n\nconst messageConverter = arg => {\n  if(isString(arg)) return Message(arg)\n  if(isObject(arg)) {\n    return Object.entries(arg).map(([name, value]) => Message(name, value))\n  }\n}\n\nconst StateComponent = initial => {\n  let state = initial\n\n  return Mapper(transformate => {\n    state = transformate(state)\n    return state\n  })\n}\n\nconst Outputs = handler => Mapper(state =>\n  toMessage({\n    'events.state': state,\n    'view.state': state,\n    ...handler(state)\n  }, messageConverter)\n)\n\nconst State = (handler = () => ({}), initial = {}) => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('state')),\n  Mapper(m => m.values.default),\n  StateComponent(initial),\n  Outputs(handler)\n)\n\nexport default State\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/State.js\n **/","import {\n  Message,\n  isMessage,\n  isMessageForBlock,\n  toMessage,\n  getHandler\n} from './Message'\nimport {\n  isFunction,\n  isString,\n  isObject,\n  isDefined,\n  flatten\n} from './utils'\nimport {\n  Chain,\n  Component,\n  SortedDemuxer,\n  Mapper,\n  Filter,\n  Memorizer,\n  ArraySerializer,\n  Logger\n} from 'graflow'\n\nconst EventState = () => Component({\n  inputs: ['state', 'event'],\n  components: {\n    memory: Memorizer(),\n    serializer: ArraySerializer(),\n    demuxer: SortedDemuxer('state', 'event')\n  },\n  connections: [\n    ['in', 'demuxer'],\n    ['demuxer.state', 'memory.memory'],\n    ['demuxer.event', 'serializer'],\n    ['in.event', 'serializer'],\n    ['serializer', 'memory.value'],\n    ['in.state', 'memory.memory'],\n    ['memory', 'out']\n  ]\n})\n\n// Too Smart?  Not obvious interpretation of the event handlers\nconst messageConverter = arg => {\n  if (isString(arg)) return Message(arg)\n  if (isFunction(arg)) return Message('state', arg)\n  if (isObject(arg)) {\n    return Object.entries(arg).map(([name, value]) => Message(name, value))\n  }\n  return Message('state', () => arg)\n}\n\nconst EventHandler = handlers => Chain(\n  Mapper(({\n    value: [comp, port, value],\n    memory\n  }) => [\n    getHandler(handlers, comp, port),\n    value,\n    memory\n  ]),\n  Filter(([handler]) => isDefined(handler)),\n  Mapper(([handler, value, state]) => handler(value, state)),\n  Filter(isDefined),\n  ArraySerializer()\n)\n\nconst isMessageForEventsBlock = v => {\n  return isMessage(v) && v.blocks.includes('events')\n};\nconst valuesFromMessage = m => m.values;\n\nconst Events = handlers => Chain(\n  Filter(isMessageForBlock('events')),\n  Mapper(valuesFromMessage),\n  EventState(), // Add in States with Events\n  EventHandler(handlers),\n  Mapper(v => toMessage(v, messageConverter))\n)\n\nexport default Events\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Events.js\n **/","import {Message, isMessage} from './Message'\nimport {Component, Chain, Mapper,\n  Accumulator, Hub, Filter, Demuxer, SortedDemuxer} from 'graflow'\nimport {isDefined} from './utils'\n\nconst setComponent = (vdom, component) => {\n  if(Array.isArray(vdom)) {\n    vdom.filter(isDefined).map(e => setComponent(e, component))\n  } else {\n    if(typeof vdom === 'object' && !vdom.component) vdom.component = component\n    if(vdom.content) setComponent(vdom.content, component)\n  }\n  return vdom\n}\n\nconst setRoot = vdom => ({...vdom, root: true})\n\nconst ViewComponent = (view, component) => Component({\n  name: 'ViewComponent',\n  inputs: ['vdom', 'state'],\n  components: {\n    demuxer: SortedDemuxer('vdom', 'state'),\n    vdomAccumulator: Accumulator(),\n    hub: Hub('vdom', 'state'),\n    globalAccumulator: Accumulator(),\n    view: Mapper(({state = {}, vdom = {}}) => view(state, vdom)),\n    filter: Filter(isDefined),\n    post: Mapper(vdom => setRoot(setComponent(vdom, component)))\n  },\n  connections: [\n    ['in', 'demuxer'],\n    ['demuxer.vdom', 'vdomAccumulator'],\n    ['demuxer.state', 'hub.state'],\n    ['in.vdom', 'vdomAccumulator'],\n    ['vdomAccumulator', 'hub.vdom'],\n    ['in.state', 'hub.state'],\n    ['hub', 'globalAccumulator'],\n    ['globalAccumulator', 'view'],\n    ['view', 'filter'],\n    ['filter', 'post'],\n    ['post', 'out']\n  ],\n  // debug: ['in','out']\n})\n\nconst View = (view, component) => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('view')),\n  Mapper(m => m.values),\n  ViewComponent(view, component),\n  Mapper(v => Message('out', 'vdom', v))\n)\n\nexport default View\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/View.js\n **/","import BusBlock from './BusBlock'\nimport Bus from './Bus'\nimport Inputs from './Inputs'\nimport Outputs from './Outputs'\nimport State from './State'\nimport Events from './Events'\nimport View from './View'\nimport Dom from './Dom'\nimport CustomBlocks from './CustomBlocks'\nimport {Identity} from 'graflow'\n\nconst Block = options => {\n  const {on = {}, blocks = {}, view: stateToView = () => {}} = options\n  const {state: stateHandler, bus: busHandler, ...eventHandlers} = on\n\n  const bus = Bus(busHandler)\n\n  return BusBlock({\n    ...CustomBlocks(blocks),\n    inputs: Inputs(),\n    events: Events(eventHandlers),\n    state: State(stateHandler),\n    dom: Dom(),\n    view: View(stateToView, bus),\n    outputs: Outputs(),\n    bus\n  })\n}\n\nexport default Block\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Block.js\n **/","import {Component} from 'graflow'\n\nconst BusBlock = blocks => {\n  const blockNames = Object.keys(blocks)\n\n  const connectionsToBus = blockNames\n    .filter(x => !(['outputs', 'bus'].includes(x)))\n    .map(name => [name, 'bus'])\n\n  const connectionsFromBus = blockNames\n    .filter(x => !(['inputs', 'bus'].includes(x)))\n    .map(name => ['bus', name])\n\n  const connections = [\n    ...connectionsToBus,\n    ...connectionsFromBus,\n    ['in', 'inputs'],\n    ['outputs', 'out']\n  ]\n\n  return Component({connections, components: blocks})\n}\n\nexport default BusBlock\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/BusBlock.js\n **/","import {Chain, Mapper, ArraySerializer, Filter} from 'graflow'\nimport {isMessage} from './Message'\n\nconst Bus = busHandler  => Chain(\n  ArraySerializer(),\n  Filter(isMessage),\n  Mapper(busHandler || (m => m))\n)\n\nexport default Bus\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Bus.js\n **/","import {Mapper, Chain, Logger} from 'graflow'\nimport Message from './Message'\n\nconst Inputs = () => Chain(\n  Mapper(v => Object.entries(v).map(([name, value]) =>\n    Message('events', 'event', [['in', name, value]]))\n  )\n)\n\nexport default Inputs\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Inputs.js\n **/","import {Mapper, Chain, Filter,Logger} from 'graflow'\nimport {Message, isMessageForBlock} from './Message'\n\n\nconst toValues = m => m.values;\n\nconst Outputs = () => Chain(\n  // Logger({prefix:'Outputs/Outputs/Chain/input'}),\n  Filter(isMessageForBlock('out')),\n  // Logger({prefix:'Outputs/Outputs/Chain/isMessageForOutputs'}),\n  Mapper(toValues)\n  // , Logger({prefix:'Outputs/Outputs/Chain/output'})\n)\n\nexport default Outputs\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Outputs.js\n **/","import {Message, isMessage} from './Message'\nimport {Component, Filter, Mapper, Memorizer, Chain,\n  SortedDemuxer, ArraySerializer} from 'graflow'\nimport {mapObject} from './utils'\n\nconst DomComponent = () => Component({\n  inputs: ['event', 'node', 'action'],\n  components: {\n    demuxer: SortedDemuxer('node', 'action', 'event'),\n    memory: Memorizer(),\n    action: Component(({value: action, memory: node}, next) => action(node))\n  },\n  connections: [\n    ['in', 'demuxer'],\n    ['demuxer.event', 'out'],\n    ['demuxer.node', 'memory.memory'],\n    ['demuxer.action', 'memory.value'],\n    ['in.event', 'out'],\n    ['in.node', 'memory.memory'],\n    ['in.action', 'memory.value'],\n    ['memory', 'action']\n  ]\n})\n\nconst Dom = () => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('dom')),\n  Mapper(m => m.values),\n  DomComponent(),\n  Mapper(v => Message('events', 'event', v))\n)\n\nexport default Dom\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Dom.js\n **/","import {isUndefined, mapObject, isObject} from './utils'\nimport {Chain, Mapper, ArraySerializer, Identity, Filter} from 'graflow'\nimport {Message, isMessage} from './Message'\n\nconst CustomMessage = (name, value) => {\n  if(isObject(value) && Object.keys(value).length > 0) {\n    return Object.entries(value).map(([k, v]) => k === 'vdom'\n      ? Message('view', 'vdom', {[name]: v})\n      : Message('events', 'event', [[name, k, v]])\n    )\n  }\n  return Message('events', 'event', [[name, 'default', value]])\n}\n\nconst NamedBlock = (name, block) => Chain(\n  Filter(isMessage),\n  Filter(({blocks}) => isUndefined(blocks) || blocks.includes(name)),\n  Mapper(v => v.values.default ? v.values.default : v.values),\n  block,\n  ArraySerializer(),\n  Mapper(m => CustomMessage(name, m)),\n  ArraySerializer()\n)\n\nconst CustomBlocks = arg => mapObject(arg, (name, block) => [\n  name, NamedBlock(name, block)\n])\n\nexport default CustomBlocks\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/CustomBlocks.js\n **/"],"sourceRoot":""}