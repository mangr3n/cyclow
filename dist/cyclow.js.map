{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 88bb4fe219f17b349e9c","webpack:///./src/cyclow.js","webpack:///./src/run.js","webpack:///./src/SnabbdomRenderer.js","webpack:///./~/graflow/dist/graflow.js","webpack:///./src/utils.js","webpack:///./src/Message.js","webpack:///./~/snabbdom/snabbdom.js","webpack:///./~/snabbdom/vnode.js","webpack:///./~/snabbdom/is.js","webpack:///./~/snabbdom/htmldomapi.js","webpack:///./~/snabbdom/h.js","webpack:///./~/snabbdom/thunk.js","webpack:///./~/snabbdom/modules/eventlisteners.js","webpack:///./~/snabbdom/modules/props.js","webpack:///./~/snabbdom/modules/class.js","webpack:///./src/State.js","webpack:///./src/Events.js","webpack:///./src/View.js","webpack:///./src/Block.js","webpack:///./src/BusBlock.js","webpack:///./src/Bus.js","webpack:///./src/Inputs.js","webpack:///./src/Outputs.js","webpack:///./src/Dom.js","webpack:///./src/CustomBlocks.js"],"names":["default","run","MainComponent","opts","document","addEventListener","init","Renderer","renderer","comp","components","main","target","outMapper","v","next","vdom","connections","send","Event","arg","Object","entries","map","name","value","getHandlers","handlers","component","event","handler","newHandler","e","toSnabbdom","filter","tag","attrs","on","content","klass","class","props","hook","root","create","_","vnode","elm","updateProps","oldVnode","tagName","data","liveProps","update","SnabbdomRenderer","targetId","patch","getElementById","body","appendChild","createElement","lastVdom","snabbdomVdom","flatten","concat","mapObject","obj","reduce","acc","key","isDefined","newKey","newValue","toArray","isArray","Array","isFunction","isString","isObject","isUndefined","undefined","unique","Set","messageSymbol","Symbol","nameToblockSignal","split","block","signal","Message","args","createMessage","length","blocks","values","isMessage","toMessage","converter","getHandler","messageConverter","StateComponent","state","initial","transformate","Outputs","State","includes","m","EventState","inputs","memory","serializer","demuxer","EventHandler","port","Events","setComponent","setRoot","ViewComponent","view","vdomAccumulator","hub","globalAccumulator","post","View","Block","options","stateToView","stateHandler","busHandler","bus","eventHandlers","events","dom","outputs","BusBlock","blockNames","keys","connectionsToBus","x","connectionsFromBus","Bus","Inputs","DomComponent","action","node","Dom","CustomMessage","k","NamedBlock","CustomBlocks"],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;AAEF,wCAAuC,uCAAuC,gBAAgB;;AAE9F,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AAC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CAAV,CAAP;AACD,EALD;;AAOA,KAAM8E,aAAa,SAAbA,UAAa,CAACvE,QAAD,EAAW4D,KAAX,EAAkBC,MAAlB,EAA6B;AAC9C;AACA;AACA;AACA,OAAMhE,OAAU+D,KAAV,SAAmBC,MAAzB;AACA,OAAG7D,SAASH,IAAT,CAAH,EAAmB,OAAOG,SAASH,IAAT,CAAP;AACnB,OAAGgE,WAAW,SAAX,IAAwB7D,SAAS4D,KAAT,CAA3B,EAA4C,OAAO5D,SAAS4D,KAAT,CAAP;AAC7C,EAPD;;SASmBvF,O,GAAXyF,O;SAAoBA,O,GAAAA,O;SAASM,S,GAAAA,S;SAAWC,S,GAAAA,S;SAAWE,U,GAAAA,U;;;;;;AClD3D;AACA;AACA;AACA;AACA,sBAAqB,wBAAwB;AAC7C,oBAAmB,wBAAwB;AAC3C,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB,uBAAsB,aAAa;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA0E;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oBAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oBAAoB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,yBAAyB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,+BAA+B;AAClD;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA,qC;;;;;;ACjTA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA,+B;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,uC;;;;;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qBAAqB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,cAAc;AAC5D;AACA,8B;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iCAAiC;AAChD;AACA;AACA,MAAK;AACL;AACA,+CAA8C,cAAc;AAC5D;AACA,kC;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","file":"cyclow.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cyclow\"] = factory();\n\telse\n\t\troot[\"cyclow\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 88bb4fe219f17b349e9c\n **/","export {default as run} from './run'\nexport {default as SnabbdomRenderer} from './SnabbdomRenderer'\nexport {default as State} from './State'\nexport {default as Events} from './Events'\nexport {default as View} from './View'\nexport {default as Block} from './Block'\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/cyclow.js\n **/","import SnabbdomRenderer from './SnabbdomRenderer'\nimport {Component} from 'graflow'\n\nconst run = (MainComponent, opts={}) => {\n  document.addEventListener('DOMContentLoaded', () => {\n    const init = opts.init || {}\n    const Renderer = opts.renderer || SnabbdomRenderer\n\n    const comp = Component({\n      components: {\n        main: MainComponent(),\n        renderer: Renderer(opts.target),\n        outMapper: Component((v, next) => { if (v.vdom) next(v.vdom) })\n      },\n      connections: [\n        ['in', 'main'],\n        ['main', 'outMapper'],\n        ['outMapper', 'renderer']\n      ]\n    })\n\n    comp.send({init})\n  })\n}\n\nexport default run\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/run.js\n **/","import Component from 'graflow'\nimport {isString, isArray, isObject, isDefined, isFunction,\n  flatten, mapObject} from './utils'\nimport Message from './Message'\n\nimport snabbdom from 'snabbdom'\nimport eventlisteners from 'snabbdom/modules/eventlisteners'\nimport props from 'snabbdom/modules/props'\nimport klass from 'snabbdom/modules/class'\nimport h from 'snabbdom/h'\n\nconst Event = arg => {\n  if(isString(arg)) return [['dom', arg, {}]]\n  if(isObject(arg)) {\n    return Object.entries(arg).map(([name, value]) => ['dom', name, value])\n  }\n  return [['dom', 'default', arg]]\n}\n\nconst getHandlers = (handlers, component) => mapObject(handlers,\n  (event, handler) => {\n    const next = component\n      ? v => component.send(Message('dom', 'event', Event(v)))\n      : () => {}\n\n    const newHandler = e => isFunction(handler)\n      ? handler(e, next)\n      : next(handler)\n\n    return [event, newHandler]\n  })\n\nconst toSnabbdom = vdom => {\n  if (isString(vdom)) return vdom\n  if (isArray(vdom)) return flatten(vdom).filter(isDefined).map(toSnabbdom)\n\n  const {tag = 'div', attrs = {}, on = {}, content = [], component} = vdom\n\n  const {class: klass, ...props} = attrs\n\n  const handlers = getHandlers(on, component)\n\n  const hook = vdom.root\n    ? {hook: {create:\n        (_, vnode) => { component.send(Message('dom', 'node', vnode.elm)) }\n      }}\n    : {}\n\n  return h(tag,\n    {props, class: klass, on: handlers, ...hook},\n    toSnabbdom(content))\n}\n\nconst updateProps = (oldVnode, vnode) => {\n  if (vnode.elm.tagName === 'INPUT' && vnode.data.props.value) {\n    vnode.elm.value = vnode.data.props.value\n  }\n}\n\nconst liveProps = {create: updateProps, update: updateProps}\n\nconst SnabbdomRenderer = (targetId) => {\n  const patch = snabbdom.init([eventlisteners, props, klass, liveProps])\n\n  const target = targetId\n    ? document.getElementById(targetId)\n    : document.body.appendChild(document.createElement('div'))\n\n  let lastVdom = target\n\n  return Component(vdom => {\n    const snabbdomVdom = toSnabbdom(vdom)\n    patch(lastVdom, snabbdomVdom)\n    lastVdom = snabbdomVdom\n  })\n}\n\nexport default SnabbdomRenderer\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/SnabbdomRenderer.js\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"graflow\"] = factory();\n\telse\n\t\troot[\"graflow\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tObject.defineProperty(exports, 'default', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Component).default;\n\t  }\n\t});\n\tObject.defineProperty(exports, 'Component', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Component).default;\n\t  }\n\t});\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tObject.defineProperty(exports, 'Mapper', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Mapper).default;\n\t  }\n\t});\n\t\n\tvar _Filter = __webpack_require__(4);\n\t\n\tObject.defineProperty(exports, 'Filter', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Filter).default;\n\t  }\n\t});\n\t\n\tvar _Counter = __webpack_require__(5);\n\t\n\tObject.defineProperty(exports, 'Counter', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Counter).default;\n\t  }\n\t});\n\t\n\tvar _Accumulator = __webpack_require__(6);\n\t\n\tObject.defineProperty(exports, 'Accumulator', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Accumulator).default;\n\t  }\n\t});\n\t\n\tvar _Memorizer = __webpack_require__(7);\n\t\n\tObject.defineProperty(exports, 'Memorizer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Memorizer).default;\n\t  }\n\t});\n\t\n\tvar _Hub = __webpack_require__(12);\n\t\n\tObject.defineProperty(exports, 'Hub', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Hub).default;\n\t  }\n\t});\n\t\n\tvar _Muxer = __webpack_require__(13);\n\t\n\tObject.defineProperty(exports, 'Muxer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Muxer).default;\n\t  }\n\t});\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tObject.defineProperty(exports, 'Demuxer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Demuxer).default;\n\t  }\n\t});\n\t\n\tvar _SortedDemuxer = __webpack_require__(8);\n\t\n\tObject.defineProperty(exports, 'SortedDemuxer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_SortedDemuxer).default;\n\t  }\n\t});\n\t\n\tvar _Iterator = __webpack_require__(14);\n\t\n\tObject.defineProperty(exports, 'Iterator', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Iterator).default;\n\t  }\n\t});\n\t\n\tvar _Serializer = __webpack_require__(10);\n\t\n\tObject.defineProperty(exports, 'Serializer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Serializer).default;\n\t  }\n\t});\n\t\n\tvar _ArraySerializer = __webpack_require__(15);\n\t\n\tObject.defineProperty(exports, 'ArraySerializer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_ArraySerializer).default;\n\t  }\n\t});\n\t\n\tvar _Repeater = __webpack_require__(16);\n\t\n\tObject.defineProperty(exports, 'Repeater', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Repeater).default;\n\t  }\n\t});\n\t\n\tvar _UniqueFilter = __webpack_require__(17);\n\t\n\tObject.defineProperty(exports, 'UniqueFilter', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_UniqueFilter).default;\n\t  }\n\t});\n\t\n\tvar _Logger = __webpack_require__(18);\n\t\n\tObject.defineProperty(exports, 'Logger', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Logger).default;\n\t  }\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tObject.defineProperty(exports, 'Chain', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Chain).default;\n\t  }\n\t});\n\t\n\tvar _Checker = __webpack_require__(19);\n\t\n\tObject.defineProperty(exports, 'Checker', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Checker).default;\n\t  }\n\t});\n\t\n\tvar _Guard = __webpack_require__(20);\n\t\n\tObject.defineProperty(exports, 'Guard', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Guard).default;\n\t  }\n\t});\n\t\n\tvar _Identity = __webpack_require__(21);\n\t\n\tObject.defineProperty(exports, 'Identity', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Identity).default;\n\t  }\n\t});\n\t\n\tvar _Delayer = __webpack_require__(22);\n\t\n\tObject.defineProperty(exports, 'Delayer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Delayer).default;\n\t  }\n\t});\n\t\n\tvar _Ticker = __webpack_require__(23);\n\t\n\tObject.defineProperty(exports, 'Ticker', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Ticker).default;\n\t  }\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tvar componentFromFunction = function componentFromFunction(func) {\n\t  var node = toNode(func);\n\t\n\t  return {\n\t    send: function send() {\n\t      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t      return node.send(value);\n\t    },\n\t    on: function on(handler) {\n\t      return node.on(handler);\n\t    },\n\t    inputs: { default: node },\n\t    outputs: { default: node }\n\t  };\n\t};\n\t\n\tvar toNode = function toNode(arg) {\n\t  if ((0, _utils.isFunction)(arg)) return node(arg);\n\t  return arg;\n\t};\n\t\n\tvar node = function node(onNext) {\n\t  var queue = [];\n\t  var listeners = [];\n\t\n\t  var broadcast = function broadcast(arg) {\n\t    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t    arg.forEach(function (l) {\n\t      return l.addToQueue(value);\n\t    });\n\t    arg.forEach(function (l) {\n\t      return l.processQueue();\n\t    });\n\t  };\n\t\n\t  var next = function next(v) {\n\t    return broadcast(listeners, v);\n\t  };\n\t\n\t  var addListener = function addListener(node) {\n\t    return listeners.push(node);\n\t  };\n\t  var on = function on(handler) {\n\t    return addListener(toNode(function (v) {\n\t      return handler(v);\n\t    }));\n\t  };\n\t  var addToQueue = function addToQueue(v) {\n\t    return queue.push(v);\n\t  };\n\t  var processQueue = function processQueue() {\n\t    return (0, _utils.applyAndEmpty)(queue, function (v) {\n\t      return onNext(v, next);\n\t    });\n\t  };\n\t\n\t  var send = function send() {\n\t    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t    addToQueue(value);\n\t    processQueue();\n\t  };\n\t\n\t  return { on: on, send: send, addListener: addListener, addToQueue: addToQueue, processQueue: processQueue };\n\t};\n\t\n\tvar selectNode = function selectNode(name, components) {\n\t  var io = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'inputs';\n\t\n\t  var direction = io === 'inputs' ? 'inputs' : 'outputs';\n\t\n\t  var _name$split = name.split('.', 2),\n\t      _name$split2 = _slicedToArray(_name$split, 2),\n\t      componentName = _name$split2[0],\n\t      _name$split2$ = _name$split2[1],\n\t      nodeName = _name$split2$ === undefined ? 'default' : _name$split2$;\n\t\n\t  var component = components[componentName];\n\t  if ((0, _utils.isUndefined)(component)) {\n\t    throw new Error(componentName + ' component not found!');\n\t  }\n\t\n\t  var nodes = component[direction];\n\t\n\t  if ((0, _utils.isUndefined)(nodes) || (0, _utils.isUndefined)(nodes[nodeName])) {\n\t    throw new Error(name + ' port not found!');\n\t  }\n\t\n\t  return nodes[nodeName];\n\t};\n\t\n\tvar componentFromObject = function componentFromObject(obj) {\n\t  var components = obj.components,\n\t      _obj$connections = obj.connections,\n\t      connections = _obj$connections === undefined ? [] : _obj$connections,\n\t      _obj$inputs = obj.inputs,\n\t      inputs = _obj$inputs === undefined ? [] : _obj$inputs,\n\t      _obj$outputs = obj.outputs,\n\t      outputs = _obj$outputs === undefined ? [] : _obj$outputs;\n\t\n\t\n\t  var inputNames = (0, _utils.unique)(inputs.concat('default'));\n\t  var outputNames = (0, _utils.unique)(outputs.concat('default'));\n\t\n\t  var toNodes = function toNodes(i) {\n\t    return [i, node(function (v, next) {\n\t      return next(v);\n\t    })];\n\t  };\n\t  var inNodes = (0, _utils.arrayToObject)(inputNames, toNodes);\n\t  var outNodes = (0, _utils.arrayToObject)(outputNames, toNodes);\n\t\n\t  components.in = { inputs: inNodes, outputs: inNodes };\n\t  components.out = { inputs: outNodes, outputs: outNodes };\n\t\n\t  connections.forEach(function (_ref) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        from = _ref2[0],\n\t        to = _ref2[1];\n\t\n\t    var outNode = selectNode(from, components, 'outputs');\n\t    var inNode = selectNode(to, components, 'inputs');\n\t    outNode.addListener(inNode);\n\t  });\n\t\n\t  var on = function on() {\n\t    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t      args[_key] = arguments[_key];\n\t    }\n\t\n\t    var _args$splice$reverse = args.splice(0, 2).reverse(),\n\t        _args$splice$reverse2 = _slicedToArray(_args$splice$reverse, 2),\n\t        handler = _args$splice$reverse2[0],\n\t        _args$splice$reverse3 = _args$splice$reverse2[1],\n\t        name = _args$splice$reverse3 === undefined ? 'default' : _args$splice$reverse3;\n\t\n\t    outNodes[name].on(handler);\n\t  };\n\t\n\t  var send = function send() {\n\t    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n\t      args[_key2] = arguments[_key2];\n\t    }\n\t\n\t    var _args$splice$reverse4 = args.splice(0, 2).reverse(),\n\t        _args$splice$reverse5 = _slicedToArray(_args$splice$reverse4, 2),\n\t        _args$splice$reverse6 = _args$splice$reverse5[0],\n\t        value = _args$splice$reverse6 === undefined ? {} : _args$splice$reverse6,\n\t        _args$splice$reverse7 = _args$splice$reverse5[1],\n\t        name = _args$splice$reverse7 === undefined ? 'default' : _args$splice$reverse7;\n\t\n\t    inNodes[name].send(value);\n\t  };\n\t\n\t  return { send: send, on: on, inputs: inNodes, outputs: outNodes };\n\t};\n\t\n\tvar Component = function Component(arg) {\n\t  if ((0, _utils.isFunction)(arg)) return componentFromFunction(arg);\n\t  return componentFromObject(arg);\n\t};\n\t\n\texports.default = Component;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar pipe = function pipe() {\n\t  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    funcs[_key] = arguments[_key];\n\t  }\n\t\n\t  return funcs.reduce(function (f, g) {\n\t    return function () {\n\t      return g(f.apply(undefined, arguments));\n\t    };\n\t  });\n\t};\n\t\n\tvar isFunction = function isFunction(arg) {\n\t  return typeof arg === 'function';\n\t};\n\tvar isObject = function isObject(arg) {\n\t  return (typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object';\n\t};\n\tvar isUndefined = function isUndefined(arg) {\n\t  return arg === undefined;\n\t};\n\t\n\tvar pairToObject = function pairToObject(_ref) {\n\t  var _ref2 = _slicedToArray(_ref, 2),\n\t      key = _ref2[0],\n\t      value = _ref2[1];\n\t\n\t  return _defineProperty({}, key, value);\n\t};\n\t\n\tvar pairsToObject = function pairsToObject(arr) {\n\t  return arr.reduce(function (obj, pair) {\n\t    return _extends({}, obj, pairToObject(pair));\n\t  }, {});\n\t};\n\t\n\tvar arrayToObject = function arrayToObject(arr, func) {\n\t  return pairsToObject(arr.map(func));\n\t};\n\t\n\tvar applyAndEmpty = function applyAndEmpty(arr, func) {\n\t  var values = arr.length;\n\t  for (var i = 1; i <= values; i++) {\n\t    func(arr.shift());\n\t  }\n\t};\n\t\n\tvar flatten = function flatten(v) {\n\t  var _ref4;\n\t\n\t  return (_ref4 = []).concat.apply(_ref4, _toConsumableArray(v));\n\t};\n\t\n\tvar unique = function unique(arg) {\n\t  return [].concat(_toConsumableArray(new Set(arg)));\n\t};\n\t\n\tvar toArray = function toArray(arg) {\n\t  return [].concat(arg);\n\t};\n\t\n\texports.pipe = pipe;\n\texports.isFunction = isFunction;\n\texports.isObject = isObject;\n\texports.isUndefined = isUndefined;\n\texports.arrayToObject = arrayToObject;\n\texports.pairToObject = pairToObject;\n\texports.pairsToObject = pairsToObject;\n\texports.applyAndEmpty = applyAndEmpty;\n\texports.flatten = flatten;\n\texports.unique = unique;\n\texports.toArray = toArray;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Mapper = function Mapper(f) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    return next(f(v));\n\t  });\n\t};\n\t\n\texports.default = Mapper;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Filter = function Filter(cond) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (cond(v)) next(v);\n\t  });\n\t};\n\t\n\texports.default = Filter;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Counter = function Counter() {\n\t  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\n\t  var value = initial;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    value++;\n\t    next(value);\n\t  });\n\t};\n\t\n\texports.default = Counter;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Accumulator = function Accumulator() {\n\t  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  var obj = initial;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) !== 'object') return;\n\t    Object.entries(v).forEach(function (_ref) {\n\t      var _ref2 = _slicedToArray(_ref, 2),\n\t          k = _ref2[0],\n\t          v = _ref2[1];\n\t\n\t      obj[k] = v;\n\t    });\n\t    next(obj);\n\t  });\n\t};\n\t\n\texports.default = Accumulator;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _SortedDemuxer = __webpack_require__(8);\n\t\n\tvar _SortedDemuxer2 = _interopRequireDefault(_SortedDemuxer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Memorizer = function Memorizer() {\n\t  var memory = void 0;\n\t\n\t  return (0, _Component2.default)({\n\t    inputs: ['memory', 'value'],\n\t    components: {\n\t      memory: (0, _Component2.default)(function (v) {\n\t        memory = v;\n\t      }),\n\t      mapper: (0, _Mapper2.default)(function (value) {\n\t        return { value: value, memory: memory };\n\t      }),\n\t      demuxer: (0, _SortedDemuxer2.default)('memory', 'value')\n\t    },\n\t    connections: [['in.memory', 'memory'], ['in.value', 'mapper'], ['mapper', 'out'], ['in', 'demuxer'], ['demuxer.memory', 'memory'], ['demuxer.value', 'mapper']]\n\t  });\n\t};\n\t\n\texports.default = Memorizer;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _Serializer = __webpack_require__(10);\n\t\n\tvar _Serializer2 = _interopRequireDefault(_Serializer);\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar SortedDemuxer = function SortedDemuxer() {\n\t  for (var _len = arguments.length, outputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    outputs[_key] = arguments[_key];\n\t  }\n\t\n\t  return (0, _Chain2.default)((0, _Mapper2.default)(function (obj) {\n\t    return outputs.map(function (k) {\n\t      return [k, obj[k]];\n\t    });\n\t  }), (0, _Serializer2.default)(), (0, _Mapper2.default)(_utils.pairToObject), _Demuxer2.default.apply(undefined, outputs));\n\t};\n\t\n\texports.default = SortedDemuxer;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar Chain = function Chain() {\n\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t    args[_key] = arguments[_key];\n\t  }\n\t\n\t  var lastIndex = args.length - 1;\n\t  var _ref = [args[0], args[lastIndex]],\n\t      first = _ref[0],\n\t      last = _ref[1];\n\t\n\t\n\t  var components = args.reduce(function (obj, v, i) {\n\t    return _extends({}, obj, _defineProperty({}, 'c' + i, v));\n\t  }, {});\n\t\n\t  var inputs = Object.keys(first.inputs);\n\t  var outputs = Object.keys(last.outputs);\n\t\n\t  var connections = [].concat(_toConsumableArray(Array(lastIndex).keys())).map(function (i) {\n\t    return ['c' + i, 'c' + (i + 1)];\n\t  }).concat(inputs.map(function (input) {\n\t    return ['in.' + input, 'c0.' + input];\n\t  })).concat(outputs.map(function (output) {\n\t    return ['c' + lastIndex + '.' + output, 'out.' + output];\n\t  }));\n\t\n\t  return (0, _Component2.default)({ components: components, connections: connections, inputs: inputs, outputs: outputs });\n\t};\n\t\n\texports.default = Chain;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Serializer = function Serializer() {\n\t  return (0, _Component2.default)(function (iterable, next) {\n\t    if (iterable[Symbol.iterator]) {\n\t      var _iteratorNormalCompletion = true;\n\t      var _didIteratorError = false;\n\t      var _iteratorError = undefined;\n\t\n\t      try {\n\t        for (var _iterator = iterable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t          var i = _step.value;\n\t          next(i);\n\t        }\n\t      } catch (err) {\n\t        _didIteratorError = true;\n\t        _iteratorError = err;\n\t      } finally {\n\t        try {\n\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t            _iterator.return();\n\t          }\n\t        } finally {\n\t          if (_didIteratorError) {\n\t            throw _iteratorError;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  });\n\t};\n\t\n\texports.default = Serializer;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Demuxer = function Demuxer() {\n\t  for (var _len = arguments.length, outputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    outputs[_key] = arguments[_key];\n\t  }\n\t\n\t  return (0, _Component2.default)({\n\t    components: outputs.reduce(function (acc, output) {\n\t      acc[output] = (0, _Component2.default)(function (v, next) {\n\t        if (v[output] !== undefined) next(v[output]);\n\t      });\n\t      return acc;\n\t    }, {}),\n\t    outputs: outputs,\n\t    connections: (0, _utils.flatten)(outputs.map(function (out) {\n\t      return [['in', out], [out, 'out.' + out]];\n\t    })).concat([['in', 'out']])\n\t  });\n\t};\n\t\n\texports.default = Demuxer;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar Hub = function Hub() {\n\t  for (var _len = arguments.length, inputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    inputs[_key] = arguments[_key];\n\t  }\n\t\n\t  var components = {};\n\t  var connections = [];\n\t\n\t  inputs.forEach(function (i) {\n\t    components[i] = (0, _Mapper2.default)(function (v) {\n\t      return _defineProperty({}, i, v);\n\t    });\n\t    connections.push(['in.' + i, i], [i, 'out'], ['in', 'out']);\n\t  });\n\t\n\t  return (0, _Component2.default)({ components: components, connections: connections, inputs: inputs });\n\t};\n\t\n\texports.default = Hub;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Hub = __webpack_require__(12);\n\t\n\tvar _Hub2 = _interopRequireDefault(_Hub);\n\t\n\tvar _Accumulator = __webpack_require__(6);\n\t\n\tvar _Accumulator2 = _interopRequireDefault(_Accumulator);\n\t\n\tvar _Filter = __webpack_require__(4);\n\t\n\tvar _Filter2 = _interopRequireDefault(_Filter);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Muxer = function Muxer() {\n\t  for (var _len = arguments.length, inputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t    inputs[_key] = arguments[_key];\n\t  }\n\t\n\t  return (0, _Chain2.default)(_Hub2.default.apply(undefined, inputs), (0, _Accumulator2.default)(), (0, _Filter2.default)(function (v) {\n\t    return inputs.every(function (i) {\n\t      return v[i] !== undefined;\n\t    });\n\t  }));\n\t};\n\t\n\texports.default = Muxer;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Iterator = function Iterator(iterable) {\n\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t      _ref$cyclic = _ref.cyclic,\n\t      cyclic = _ref$cyclic === undefined ? false : _ref$cyclic;\n\t\n\t  var iterator = iterable[Symbol.iterator]();\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    var _iterator$next = iterator.next(),\n\t        value = _iterator$next.value,\n\t        done = _iterator$next.done;\n\t\n\t    if (done && cyclic) {\n\t      iterator = iterable[Symbol.iterator]();\n\t      var _iterator$next2 = iterator.next();\n\t\n\t      value = _iterator$next2.value;\n\t      done = _iterator$next2.done;\n\t    }\n\t\n\t    if (!done) next(value);\n\t  });\n\t};\n\t\n\texports.default = Iterator;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _Serializer = __webpack_require__(10);\n\t\n\tvar _Serializer2 = _interopRequireDefault(_Serializer);\n\t\n\tvar _utils = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ArraySerializer = function ArraySerializer() {\n\t  return (0, _Chain2.default)((0, _Mapper2.default)(_utils.toArray), (0, _Serializer2.default)());\n\t};\n\t\n\texports.default = ArraySerializer;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Repeater = function Repeater(times) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    for (var i = 1; i <= times; i++) {\n\t      next(v);\n\t    }\n\t  });\n\t};\n\t\n\texports.default = Repeater;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar UniqueFilter = function UniqueFilter(initialValue) {\n\t  var lastValue = initialValue;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (v !== lastValue) {\n\t      lastValue = v;\n\t      next(v);\n\t    }\n\t  });\n\t};\n\t\n\texports.default = UniqueFilter;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Logger = function Logger() {\n\t  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t      prefix = _ref.prefix,\n\t      _ref$log = _ref.log,\n\t      log = _ref$log === undefined ? console.log : _ref$log;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (prefix === undefined) {\n\t      log(v);\n\t    } else {\n\t      log(prefix, v);\n\t    }\n\t    next(v);\n\t  });\n\t};\n\t\n\texports.default = Logger;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Checker = function Checker(cond) {\n\t  return (0, _Chain2.default)((0, _Mapper2.default)(function (v) {\n\t    return cond(v) ? { true: v } : { false: v };\n\t  }), (0, _Demuxer2.default)('true', 'false'));\n\t};\n\t\n\texports.default = Checker;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _Chain = __webpack_require__(9);\n\t\n\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\n\tvar _Demuxer = __webpack_require__(11);\n\t\n\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar Guard = function Guard(conds) {\n\t  return (0, _Chain2.default)((0, _Component2.default)(function (v, next) {\n\t    Object.entries(conds).forEach(function (_ref) {\n\t      var _ref2 = _slicedToArray(_ref, 2),\n\t          name = _ref2[0],\n\t          cond = _ref2[1];\n\t\n\t      var others = [];\n\t      var match = false;\n\t\n\t      if (cond === 'otherwise') {\n\t        others.push(name);\n\t      } else if (typeof cond === 'function' && cond(v)) {\n\t        next(_defineProperty({}, name, v));\n\t        match = true;\n\t      }\n\t\n\t      if (!match) others.forEach(function (name) {\n\t        return next(_defineProperty({}, name, v));\n\t      });\n\t    });\n\t  }), _Demuxer2.default.apply(undefined, _toConsumableArray(Object.keys(conds))));\n\t};\n\t\n\texports.default = Guard;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Mapper = __webpack_require__(3);\n\t\n\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Identity = function Identity() {\n\t  return (0, _Mapper2.default)(function (v) {\n\t    return v;\n\t  });\n\t};\n\t\n\texports.default = Identity;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Delayer = function Delayer(ms) {\n\t  return (0, _Component2.default)(function (v, next) {\n\t    setTimeout(function () {\n\t      return next(v);\n\t    }, ms);\n\t  });\n\t};\n\t\n\texports.default = Delayer;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar Ticker = function Ticker(ms) {\n\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t      _ref$value = _ref.value,\n\t      value = _ref$value === undefined ? {} : _ref$value,\n\t      _ref$initialDelay = _ref.initialDelay,\n\t      initialDelay = _ref$initialDelay === undefined ? false : _ref$initialDelay;\n\t\n\t  return (0, _Component2.default)(function (v, next) {\n\t    if (!initialDelay) next(value);\n\t    setInterval(function () {\n\t      return next(value);\n\t    }, ms);\n\t  });\n\t};\n\t\n\texports.default = Ticker;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=graflow.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/graflow/dist/graflow.js\n ** module id = 3\n ** module chunks = 0\n **/","const flatten = v => [].concat(...v)\n\nconst mapObject = (obj, map) => Object.entries(obj)\n  .reduce((acc, [key, value]) => {\n    const v = map(key, value)\n    if(isDefined(v)) {\n      const [newKey, newValue] = v\n      acc[newKey] = newValue\n    }\n    return acc\n  }, {})\n\nconst toArray = arg => [].concat(arg)\n\nconst isArray = Array.isArray\n\nconst isFunction = arg => typeof arg === 'function'\n\nconst isString = arg => typeof arg === 'string'\n\nconst isObject = arg => typeof arg === 'object'\n\nconst isUndefined = arg => arg === undefined\n\nconst isDefined = arg => arg !== undefined\n\nconst unique = arg => [...new Set(arg)]\n\nexport {flatten, mapObject, unique, toArray,\n  isArray, isFunction, isString, isObject, isUndefined, isDefined}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/utils.js\n **/","import {toArray, isArray, isObject, isDefined} from './utils'\n\nconst messageSymbol = Symbol('Message')\n\nconst nameToblockSignal = name => {\n  const [block, signal = 'default'] = name.split('.', 2)\n  return [block, signal]\n}\n\nconst Message = (...args) => {\n  if(isObject(args[0])) return createMessage(args[0])\n\n  let block, signal, value = {}\n\n  if(args.length === 1) {\n    [block, signal] = nameToblockSignal(args[0])\n  } else if(args.length === 2) {\n    [block, signal] = nameToblockSignal(args[0])\n    value = args[1]\n  } else if(args.length === 3) {\n    [block, signal, value] = args\n  }\n\n  return createMessage({blocks: block, values: {[signal]: value}})\n}\n\nconst createMessage = ({blocks, values = {default: {}}}) => ({\n  blocks: isDefined(blocks) ? toArray(blocks) : undefined,\n  values: isObject(values) ? values : {default: values},\n  [messageSymbol]: true\n})\n\nconst isMessage = arg => arg[messageSymbol]\n\nconst toMessage = (arg, converter) => {\n  if(isMessage(arg)) return arg\n  if(isArray(arg)) return arg.map(toMessage)\n\n  return [].concat(converter(arg))\n}\n\nconst getHandler = (handlers, block, signal) => {\n  // const {blocks, values} = message\n  // const block = blocks[0]\n  // const signal = Object.entries(values)[0][0]\n  const name = `${block}.${signal}`\n  if(handlers[name]) return handlers[name]\n  if(signal === 'default' && handlers[block]) return handlers[block]\n}\n\nexport {Message as default, Message, isMessage, toMessage, getHandler}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Message.js\n **/","\"use strict\";\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nvar htmldomapi_1 = require(\"./htmldomapi\");\nfunction isUndef(s) { return s === undefined; }\nfunction isDef(s) { return s !== undefined; }\nvar emptyNode = vnode_1.default('', {}, [], undefined, undefined);\nfunction sameVnode(vnode1, vnode2) {\n    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n}\nfunction isVnode(vnode) {\n    return vnode.sel !== undefined;\n}\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n    var i, map = {}, key, ch;\n    for (i = beginIdx; i <= endIdx; ++i) {\n        ch = children[i];\n        if (ch != null) {\n            key = ch.key;\n            if (key !== undefined)\n                map[key] = i;\n        }\n    }\n    return map;\n}\nvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\nvar h_1 = require(\"./h\");\nexports.h = h_1.h;\nvar thunk_1 = require(\"./thunk\");\nexports.thunk = thunk_1.thunk;\nfunction init(modules, domApi) {\n    var i, j, cbs = {};\n    var api = domApi !== undefined ? domApi : htmldomapi_1.default;\n    for (i = 0; i < hooks.length; ++i) {\n        cbs[hooks[i]] = [];\n        for (j = 0; j < modules.length; ++j) {\n            var hook = modules[j][hooks[i]];\n            if (hook !== undefined) {\n                cbs[hooks[i]].push(hook);\n            }\n        }\n    }\n    function emptyNodeAt(elm) {\n        var id = elm.id ? '#' + elm.id : '';\n        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n        return vnode_1.default(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n    }\n    function createRmCb(childElm, listeners) {\n        return function rmCb() {\n            if (--listeners === 0) {\n                var parent_1 = api.parentNode(childElm);\n                api.removeChild(parent_1, childElm);\n            }\n        };\n    }\n    function createElm(vnode, insertedVnodeQueue) {\n        var i, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.init)) {\n                i(vnode);\n                data = vnode.data;\n            }\n        }\n        var children = vnode.children, sel = vnode.sel;\n        if (sel === '!') {\n            if (isUndef(vnode.text)) {\n                vnode.text = '';\n            }\n            vnode.elm = api.createComment(vnode.text);\n        }\n        else if (sel !== undefined) {\n            // Parse selector\n            var hashIdx = sel.indexOf('#');\n            var dotIdx = sel.indexOf('.', hashIdx);\n            var hash = hashIdx > 0 ? hashIdx : sel.length;\n            var dot = dotIdx > 0 ? dotIdx : sel.length;\n            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n                : api.createElement(tag);\n            if (hash < dot)\n                elm.id = sel.slice(hash + 1, dot);\n            if (dotIdx > 0)\n                elm.className = sel.slice(dot + 1).replace(/\\./g, ' ');\n            if (is.array(children)) {\n                for (i = 0; i < children.length; ++i) {\n                    var ch = children[i];\n                    if (ch != null) {\n                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n                    }\n                }\n            }\n            else if (is.primitive(vnode.text)) {\n                api.appendChild(elm, api.createTextNode(vnode.text));\n            }\n            for (i = 0; i < cbs.create.length; ++i)\n                cbs.create[i](emptyNode, vnode);\n            i = vnode.data.hook; // Reuse variable\n            if (isDef(i)) {\n                if (i.create)\n                    i.create(emptyNode, vnode);\n                if (i.insert)\n                    insertedVnodeQueue.push(vnode);\n            }\n        }\n        else {\n            vnode.elm = api.createTextNode(vnode.text);\n        }\n        return vnode.elm;\n    }\n    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var ch = vnodes[startIdx];\n            if (ch != null) {\n                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n            }\n        }\n    }\n    function invokeDestroyHook(vnode) {\n        var i, j, data = vnode.data;\n        if (data !== undefined) {\n            if (isDef(i = data.hook) && isDef(i = i.destroy))\n                i(vnode);\n            for (i = 0; i < cbs.destroy.length; ++i)\n                cbs.destroy[i](vnode);\n            if (vnode.children !== undefined) {\n                for (j = 0; j < vnode.children.length; ++j) {\n                    i = vnode.children[j];\n                    if (i != null && typeof i !== \"string\") {\n                        invokeDestroyHook(i);\n                    }\n                }\n            }\n        }\n    }\n    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n        for (; startIdx <= endIdx; ++startIdx) {\n            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n            if (ch != null) {\n                if (isDef(ch.sel)) {\n                    invokeDestroyHook(ch);\n                    listeners = cbs.remove.length + 1;\n                    rm = createRmCb(ch.elm, listeners);\n                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n                        cbs.remove[i_1](ch, rm);\n                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n                        i_1(ch, rm);\n                    }\n                    else {\n                        rm();\n                    }\n                }\n                else {\n                    api.removeChild(parentElm, ch.elm);\n                }\n            }\n        }\n    }\n    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n        var oldStartIdx = 0, newStartIdx = 0;\n        var oldEndIdx = oldCh.length - 1;\n        var oldStartVnode = oldCh[0];\n        var oldEndVnode = oldCh[oldEndIdx];\n        var newEndIdx = newCh.length - 1;\n        var newStartVnode = newCh[0];\n        var newEndVnode = newCh[newEndIdx];\n        var oldKeyToIdx;\n        var idxInOld;\n        var elmToMove;\n        var before;\n        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n            if (oldStartVnode == null) {\n                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n            }\n            else if (oldEndVnode == null) {\n                oldEndVnode = oldCh[--oldEndIdx];\n            }\n            else if (newStartVnode == null) {\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (newEndVnode == null) {\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newStartVnode)) {\n                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n                oldStartVnode = oldCh[++oldStartIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else if (sameVnode(oldEndVnode, newEndVnode)) {\n                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldStartVnode, newEndVnode)) {\n                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n                oldStartVnode = oldCh[++oldStartIdx];\n                newEndVnode = newCh[--newEndIdx];\n            }\n            else if (sameVnode(oldEndVnode, newStartVnode)) {\n                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n                oldEndVnode = oldCh[--oldEndIdx];\n                newStartVnode = newCh[++newStartIdx];\n            }\n            else {\n                if (oldKeyToIdx === undefined) {\n                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n                }\n                idxInOld = oldKeyToIdx[newStartVnode.key];\n                if (isUndef(idxInOld)) {\n                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    newStartVnode = newCh[++newStartIdx];\n                }\n                else {\n                    elmToMove = oldCh[idxInOld];\n                    if (elmToMove.sel !== newStartVnode.sel) {\n                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n                    }\n                    else {\n                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n                        oldCh[idxInOld] = undefined;\n                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n                    }\n                    newStartVnode = newCh[++newStartIdx];\n                }\n            }\n        }\n        if (oldStartIdx > oldEndIdx) {\n            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n        }\n        else if (newStartIdx > newEndIdx) {\n            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n        }\n    }\n    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n        var i, hook;\n        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n            i(oldVnode, vnode);\n        }\n        var elm = vnode.elm = oldVnode.elm;\n        var oldCh = oldVnode.children;\n        var ch = vnode.children;\n        if (oldVnode === vnode)\n            return;\n        if (vnode.data !== undefined) {\n            for (i = 0; i < cbs.update.length; ++i)\n                cbs.update[i](oldVnode, vnode);\n            i = vnode.data.hook;\n            if (isDef(i) && isDef(i = i.update))\n                i(oldVnode, vnode);\n        }\n        if (isUndef(vnode.text)) {\n            if (isDef(oldCh) && isDef(ch)) {\n                if (oldCh !== ch)\n                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n            }\n            else if (isDef(ch)) {\n                if (isDef(oldVnode.text))\n                    api.setTextContent(elm, '');\n                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n            }\n            else if (isDef(oldCh)) {\n                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n            }\n            else if (isDef(oldVnode.text)) {\n                api.setTextContent(elm, '');\n            }\n        }\n        else if (oldVnode.text !== vnode.text) {\n            api.setTextContent(elm, vnode.text);\n        }\n        if (isDef(hook) && isDef(i = hook.postpatch)) {\n            i(oldVnode, vnode);\n        }\n    }\n    return function patch(oldVnode, vnode) {\n        var i, elm, parent;\n        var insertedVnodeQueue = [];\n        for (i = 0; i < cbs.pre.length; ++i)\n            cbs.pre[i]();\n        if (!isVnode(oldVnode)) {\n            oldVnode = emptyNodeAt(oldVnode);\n        }\n        if (sameVnode(oldVnode, vnode)) {\n            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n        }\n        else {\n            elm = oldVnode.elm;\n            parent = api.parentNode(elm);\n            createElm(vnode, insertedVnodeQueue);\n            if (parent !== null) {\n                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n                removeVnodes(parent, [oldVnode], 0, 0);\n            }\n        }\n        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n        }\n        for (i = 0; i < cbs.post.length; ++i)\n            cbs.post[i]();\n        return vnode;\n    };\n}\nexports.init = init;\n//# sourceMappingURL=snabbdom.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/snabbdom.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\nfunction vnode(sel, data, children, text, elm) {\n    var key = data === undefined ? undefined : data.key;\n    return { sel: sel, data: data, children: children,\n        text: text, elm: elm, key: key };\n}\nexports.vnode = vnode;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = vnode;\n//# sourceMappingURL=vnode.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/vnode.js\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\nexports.array = Array.isArray;\nfunction primitive(s) {\n    return typeof s === 'string' || typeof s === 'number';\n}\nexports.primitive = primitive;\n//# sourceMappingURL=is.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/is.js\n ** module id = 8\n ** module chunks = 0\n **/","\"use strict\";\nfunction createElement(tagName) {\n    return document.createElement(tagName);\n}\nfunction createElementNS(namespaceURI, qualifiedName) {\n    return document.createElementNS(namespaceURI, qualifiedName);\n}\nfunction createTextNode(text) {\n    return document.createTextNode(text);\n}\nfunction createComment(text) {\n    return document.createComment(text);\n}\nfunction insertBefore(parentNode, newNode, referenceNode) {\n    parentNode.insertBefore(newNode, referenceNode);\n}\nfunction removeChild(node, child) {\n    node.removeChild(child);\n}\nfunction appendChild(node, child) {\n    node.appendChild(child);\n}\nfunction parentNode(node) {\n    return node.parentNode;\n}\nfunction nextSibling(node) {\n    return node.nextSibling;\n}\nfunction tagName(elm) {\n    return elm.tagName;\n}\nfunction setTextContent(node, text) {\n    node.textContent = text;\n}\nfunction getTextContent(node) {\n    return node.textContent;\n}\nfunction isElement(node) {\n    return node.nodeType === 1;\n}\nfunction isText(node) {\n    return node.nodeType === 3;\n}\nfunction isComment(node) {\n    return node.nodeType === 8;\n}\nexports.htmlDomApi = {\n    createElement: createElement,\n    createElementNS: createElementNS,\n    createTextNode: createTextNode,\n    createComment: createComment,\n    insertBefore: insertBefore,\n    removeChild: removeChild,\n    appendChild: appendChild,\n    parentNode: parentNode,\n    nextSibling: nextSibling,\n    tagName: tagName,\n    setTextContent: setTextContent,\n    getTextContent: getTextContent,\n    isElement: isElement,\n    isText: isText,\n    isComment: isComment,\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.htmlDomApi;\n//# sourceMappingURL=htmldomapi.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/htmldomapi.js\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\nvar vnode_1 = require(\"./vnode\");\nvar is = require(\"./is\");\nfunction addNS(data, children, sel) {\n    data.ns = 'http://www.w3.org/2000/svg';\n    if (sel !== 'foreignObject' && children !== undefined) {\n        for (var i = 0; i < children.length; ++i) {\n            var childData = children[i].data;\n            if (childData !== undefined) {\n                addNS(childData, children[i].children, children[i].sel);\n            }\n        }\n    }\n}\nfunction h(sel, b, c) {\n    var data = {}, children, text, i;\n    if (c !== undefined) {\n        data = b;\n        if (is.array(c)) {\n            children = c;\n        }\n        else if (is.primitive(c)) {\n            text = c;\n        }\n        else if (c && c.sel) {\n            children = [c];\n        }\n    }\n    else if (b !== undefined) {\n        if (is.array(b)) {\n            children = b;\n        }\n        else if (is.primitive(b)) {\n            text = b;\n        }\n        else if (b && b.sel) {\n            children = [b];\n        }\n        else {\n            data = b;\n        }\n    }\n    if (is.array(children)) {\n        for (i = 0; i < children.length; ++i) {\n            if (is.primitive(children[i]))\n                children[i] = vnode_1.vnode(undefined, undefined, undefined, children[i]);\n        }\n    }\n    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n        addNS(data, children, sel);\n    }\n    return vnode_1.vnode(sel, data, children, text, undefined);\n}\nexports.h = h;\n;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = h;\n//# sourceMappingURL=h.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/h.js\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\nvar h_1 = require(\"./h\");\nfunction copyToThunk(vnode, thunk) {\n    thunk.elm = vnode.elm;\n    vnode.data.fn = thunk.data.fn;\n    vnode.data.args = thunk.data.args;\n    thunk.data = vnode.data;\n    thunk.children = vnode.children;\n    thunk.text = vnode.text;\n    thunk.elm = vnode.elm;\n}\nfunction init(thunk) {\n    var cur = thunk.data;\n    var vnode = cur.fn.apply(undefined, cur.args);\n    copyToThunk(vnode, thunk);\n}\nfunction prepatch(oldVnode, thunk) {\n    var i, old = oldVnode.data, cur = thunk.data;\n    var oldArgs = old.args, args = cur.args;\n    if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n        copyToThunk(cur.fn.apply(undefined, args), thunk);\n    }\n    for (i = 0; i < args.length; ++i) {\n        if (oldArgs[i] !== args[i]) {\n            copyToThunk(cur.fn.apply(undefined, args), thunk);\n            return;\n        }\n    }\n    copyToThunk(oldVnode, thunk);\n}\nexports.thunk = function thunk(sel, key, fn, args) {\n    if (args === undefined) {\n        args = fn;\n        fn = key;\n        key = undefined;\n    }\n    return h_1.h(sel, {\n        key: key,\n        hook: { init: init, prepatch: prepatch },\n        fn: fn,\n        args: args\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.thunk;\n//# sourceMappingURL=thunk.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/thunk.js\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\nfunction invokeHandler(handler, vnode, event) {\n    if (typeof handler === \"function\") {\n        // call function handler\n        handler.call(vnode, event, vnode);\n    }\n    else if (typeof handler === \"object\") {\n        // call handler with arguments\n        if (typeof handler[0] === \"function\") {\n            // special case for single argument for performance\n            if (handler.length === 2) {\n                handler[0].call(vnode, handler[1], event, vnode);\n            }\n            else {\n                var args = handler.slice(1);\n                args.push(event);\n                args.push(vnode);\n                handler[0].apply(vnode, args);\n            }\n        }\n        else {\n            // call multiple handlers\n            for (var i = 0; i < handler.length; i++) {\n                invokeHandler(handler[i]);\n            }\n        }\n    }\n}\nfunction handleEvent(event, vnode) {\n    var name = event.type, on = vnode.data.on;\n    // call event handler(s) if exists\n    if (on && on[name]) {\n        invokeHandler(on[name], vnode, event);\n    }\n}\nfunction createListener() {\n    return function handler(event) {\n        handleEvent(event, handler.vnode);\n    };\n}\nfunction updateEventListeners(oldVnode, vnode) {\n    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;\n    // optimization for reused immutable handlers\n    if (oldOn === on) {\n        return;\n    }\n    // remove existing listeners which no longer used\n    if (oldOn && oldListener) {\n        // if element changed or deleted we remove all existing listeners unconditionally\n        if (!on) {\n            for (name in oldOn) {\n                // remove listener if element was changed or existing listeners removed\n                oldElm.removeEventListener(name, oldListener, false);\n            }\n        }\n        else {\n            for (name in oldOn) {\n                // remove listener if existing listener removed\n                if (!on[name]) {\n                    oldElm.removeEventListener(name, oldListener, false);\n                }\n            }\n        }\n    }\n    // add new listeners which has not already attached\n    if (on) {\n        // reuse existing listener or create new\n        var listener = vnode.listener = oldVnode.listener || createListener();\n        // update vnode for listener\n        listener.vnode = vnode;\n        // if element changed or added we add all needed listeners unconditionally\n        if (!oldOn) {\n            for (name in on) {\n                // add listener if element was changed or new listeners added\n                elm.addEventListener(name, listener, false);\n            }\n        }\n        else {\n            for (name in on) {\n                // add listener if new listener added\n                if (!oldOn[name]) {\n                    elm.addEventListener(name, listener, false);\n                }\n            }\n        }\n    }\n}\nexports.eventListenersModule = {\n    create: updateEventListeners,\n    update: updateEventListeners,\n    destroy: updateEventListeners\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.eventListenersModule;\n//# sourceMappingURL=eventlisteners.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/eventlisteners.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\nfunction updateProps(oldVnode, vnode) {\n    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n    if (!oldProps && !props)\n        return;\n    if (oldProps === props)\n        return;\n    oldProps = oldProps || {};\n    props = props || {};\n    for (key in oldProps) {\n        if (!props[key]) {\n            delete elm[key];\n        }\n    }\n    for (key in props) {\n        cur = props[key];\n        old = oldProps[key];\n        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n            elm[key] = cur;\n        }\n    }\n}\nexports.propsModule = { create: updateProps, update: updateProps };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.propsModule;\n//# sourceMappingURL=props.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/props.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\nfunction updateClass(oldVnode, vnode) {\n    var cur, name, elm = vnode.elm, oldClass = oldVnode.data.class, klass = vnode.data.class;\n    if (!oldClass && !klass)\n        return;\n    if (oldClass === klass)\n        return;\n    oldClass = oldClass || {};\n    klass = klass || {};\n    for (name in oldClass) {\n        if (!klass[name]) {\n            elm.classList.remove(name);\n        }\n    }\n    for (name in klass) {\n        cur = klass[name];\n        if (cur !== oldClass[name]) {\n            elm.classList[cur ? 'add' : 'remove'](name);\n        }\n    }\n}\nexports.classModule = { create: updateClass, update: updateClass };\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = exports.classModule;\n//# sourceMappingURL=class.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/snabbdom/modules/class.js\n ** module id = 14\n ** module chunks = 0\n **/","import {Chain, Mapper, Filter} from 'graflow'\nimport {toMessage, Message, isMessage} from './Message'\nimport {isString, isObject} from './utils'\n\nconst messageConverter = arg => {\n  if(isString(arg)) return Message(arg)\n  if(isObject(arg)) {\n    return Object.entries(arg).map(([name, value]) => Message(name, value))\n  }\n}\n\nconst StateComponent = initial => {\n  let state = initial\n\n  return Mapper(transformate => {\n    state = transformate(state)\n    return state\n  })\n}\n\nconst Outputs = handler => Mapper(state =>\n  toMessage({\n    'events.state': state,\n    'view.state': state,\n    ...handler(state)\n  }, messageConverter)\n)\n\nconst State = (handler = () => ({}), initial = {}) => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('state')),\n  Mapper(m => m.values.default),\n  StateComponent(initial),\n  Outputs(handler)\n)\n\nexport default State\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/State.js\n **/","import {Message, isMessage, toMessage, getHandler} from './Message'\nimport {isFunction, isString, isObject, isDefined, flatten} from './utils'\nimport {Chain, Component, SortedDemuxer, Mapper, Filter,\n  Memorizer, ArraySerializer} from 'graflow'\n\nconst EventState = () => Component({\n  inputs: ['state', 'event'],\n  components: {\n    memory: Memorizer(),\n    serializer: ArraySerializer(),\n    demuxer: SortedDemuxer('state', 'event')\n  },\n  connections: [\n    ['in', 'demuxer'],\n    ['demuxer.state', 'memory.memory'],\n    ['demuxer.event', 'serializer'],\n    ['in.event', 'serializer'],\n    ['serializer', 'memory.value'],\n    ['in.state', 'memory.memory'],\n    ['memory', 'out']\n  ]\n})\n\nconst messageConverter = arg => {\n  if(isString(arg)) return Message(arg)\n  if(isFunction(arg)) return Message('state', arg)\n  if(isObject(arg)) {\n    return Object.entries(arg).map(([name, value]) => Message(name, value))\n  }\n  return Message('state', () => arg)\n}\n\nconst EventHandler = handlers => Chain(\n  Mapper(({value: [comp, port, value], memory}) => [\n    getHandler(handlers, comp, port),\n    value,\n    memory\n  ]),\n  Filter(([handler]) => isDefined(handler)),\n  Mapper(([handler, value, state]) => handler(value, state)),\n  Filter(isDefined),\n  ArraySerializer()\n)\n\nconst Events = handlers => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('events')),\n  Mapper(m => m.values),\n  EventState(),\n  EventHandler(handlers),\n  Mapper(v => toMessage(v, messageConverter))\n)\n\nexport default Events\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Events.js\n **/","import {Message, isMessage} from './Message'\nimport {Component, Chain, Mapper,\n  Accumulator, Hub, Filter, Demuxer, SortedDemuxer} from 'graflow'\nimport {isDefined} from './utils'\n\nconst setComponent = (vdom, component) => {\n  if(Array.isArray(vdom)) {\n    vdom.filter(isDefined).map(e => setComponent(e, component))\n  } else {\n    if(typeof vdom === 'object' && !vdom.component) vdom.component = component\n    if(vdom.content) setComponent(vdom.content, component)\n  }\n  return vdom\n}\n\nconst setRoot = vdom => ({...vdom, root: true})\n\nconst ViewComponent = (view, component) => Component({\n  inputs: ['vdom', 'state'],\n  components: {\n    demuxer: SortedDemuxer('vdom', 'state'),\n    vdomAccumulator: Accumulator(),\n    hub: Hub('vdom', 'state'),\n    globalAccumulator: Accumulator(),\n    view: Mapper(({state = {}, vdom = {}}) => view(state, vdom)),\n    filter: Filter(isDefined),\n    post: Mapper(vdom => setRoot(setComponent(vdom, component)))\n  },\n  connections: [\n    ['in', 'demuxer'],\n    ['demuxer.vdom', 'vdomAccumulator'],\n    ['demuxer.state', 'hub.state'],\n    ['in.vdom', 'vdomAccumulator'],\n    ['vdomAccumulator', 'hub.vdom'],\n    ['in.state', 'hub.state'],\n    ['hub', 'globalAccumulator'],\n    ['globalAccumulator', 'view'],\n    ['view', 'filter'],\n    ['filter', 'post'],\n    ['post', 'out']\n  ]\n})\n\nconst View = (view, component) => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('view')),\n  Mapper(m => m.values),\n  ViewComponent(view, component),\n  Mapper(v => Message('out', 'vdom', v))\n)\n\nexport default View\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/View.js\n **/","import BusBlock from './BusBlock'\nimport Bus from './Bus'\nimport Inputs from './Inputs'\nimport Outputs from './Outputs'\nimport State from './State'\nimport Events from './Events'\nimport View from './View'\nimport Dom from './Dom'\nimport CustomBlocks from './CustomBlocks'\nimport {Identity} from 'graflow'\n\nconst Block = options => {\n  const {on = {}, blocks = {}, view: stateToView = () => {}} = options\n  const {state: stateHandler, bus: busHandler, ...eventHandlers} = on\n\n  const bus = Bus(busHandler)\n\n  return BusBlock({\n    ...CustomBlocks(blocks),\n    inputs: Inputs(),\n    events: Events(eventHandlers),\n    state: State(stateHandler),\n    dom: Dom(),\n    view: View(stateToView, bus),\n    outputs: Outputs(),\n    bus\n  })\n}\n\nexport default Block\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Block.js\n **/","import {Component} from 'graflow'\n\nconst BusBlock = blocks => {\n  const blockNames = Object.keys(blocks)\n\n  const connectionsToBus = blockNames\n    .filter(x => !(['outputs', 'bus'].includes(x)))\n    .map(name => [name, 'bus'])\n\n  const connectionsFromBus = blockNames\n    .filter(x => !(['inputs', 'bus'].includes(x)))\n    .map(name => ['bus', name])\n\n  const connections = [\n    ...connectionsToBus,\n    ...connectionsFromBus,\n    ['in', 'inputs'],\n    ['outputs', 'out']\n  ]\n\n  return Component({connections, components: blocks})\n}\n\nexport default BusBlock\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/BusBlock.js\n **/","import {Chain, Mapper, ArraySerializer, Filter} from 'graflow'\nimport {isMessage} from './Message'\n\nconst Bus = busHandler  => Chain(\n  ArraySerializer(),\n  Filter(isMessage),\n  Mapper(busHandler || (m => m))\n)\n\nexport default Bus\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Bus.js\n **/","import {Mapper, Chain} from 'graflow'\nimport Message from './Message'\n\nconst Inputs = () => Chain(\n  Mapper(v => Object.entries(v).map(([name, value]) =>\n    Message('events', 'event', [['in', name, value]]))\n  )\n)\n\nexport default Inputs\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Inputs.js\n **/","import {Mapper, Chain, Filter} from 'graflow'\nimport {Message, isMessage} from './Message'\n\nconst Outputs = () => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('out')),\n  Mapper(m => m.values)\n)\n\nexport default Outputs\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Outputs.js\n **/","import {Message, isMessage} from './Message'\nimport {Component, Filter, Mapper, Memorizer, Chain,\n  SortedDemuxer, ArraySerializer} from 'graflow'\nimport {mapObject} from './utils'\n\nconst DomComponent = () => Component({\n  inputs: ['event', 'node', 'action'],\n  components: {\n    demuxer: SortedDemuxer('node', 'action', 'event'),\n    memory: Memorizer(),\n    action: Component(({value: action, memory: node}, next) => action(node))\n  },\n  connections: [\n    ['in', 'demuxer'],\n    ['demuxer.event', 'out'],\n    ['demuxer.node', 'memory.memory'],\n    ['demuxer.action', 'memory.value'],\n    ['in.event', 'out'],\n    ['in.node', 'memory.memory'],\n    ['in.action', 'memory.value'],\n    ['memory', 'action']\n  ]\n})\n\nconst Dom = () => Chain(\n  Filter(v => isMessage(v) && v.blocks.includes('dom')),\n  Mapper(m => m.values),\n  DomComponent(),\n  Mapper(v => Message('events', 'event', v))\n)\n\nexport default Dom\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Dom.js\n **/","import {isUndefined, mapObject, isObject} from './utils'\nimport {Chain, Mapper, ArraySerializer, Identity, Filter} from 'graflow'\nimport {Message, isMessage} from './Message'\n\nconst CustomMessage = (name, value) => {\n  if(isObject(value) && Object.keys(value).length > 0) {\n    return Object.entries(value).map(([k, v]) => k === 'vdom'\n      ? Message('view', 'vdom', {[name]: v})\n      : Message('events', 'event', [[name, k, v]])\n    )\n  }\n  return Message('events', 'event', [[name, 'default', value]])\n}\n\nconst NamedBlock = (name, block) => Chain(\n  Filter(isMessage),\n  Filter(({blocks}) => isUndefined(blocks) || blocks.includes(name)),\n  Mapper(v => v.values.default ? v.values.default : v.values),\n  block,\n  ArraySerializer(),\n  Mapper(m => CustomMessage(name, m)),\n  ArraySerializer()\n)\n\nconst CustomBlocks = arg => mapObject(arg, (name, block) => [\n  name, NamedBlock(name, block)\n])\n\nexport default CustomBlocks\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/CustomBlocks.js\n **/"],"sourceRoot":""}