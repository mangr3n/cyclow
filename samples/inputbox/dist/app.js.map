{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 232723ae9cf4f4dceeeb","webpack:///./samples/inputbox/app.js","webpack:///./dist/cyclow.js","webpack:///(webpack)/buildin/module.js","webpack:///./samples/inputbox/Inputbox.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","modules","installedModules","__webpack_require__","moduleId","id","loaded","call","m","c","p","Object","defineProperty","value","_run","enumerable","get","_interopRequireDefault","default","_SnabbdomRenderer","_State","_Events","_View","_Block","obj","__esModule","_SnabbdomRenderer2","_graflow","_graflow2","run","MainComponent","opts","arguments","length","undefined","document","addEventListener","init","Renderer","renderer","comp","outputs","components","main","target","connections","in","send","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","_i","Symbol","iterator","_s","next","done","push","err","Array","isArray","TypeError","_utils","_snabbdom","_snabbdom2","_eventlisteners","_eventlisteners2","_props","_props2","_h","_h2","getHandlers","handlers","component","entries","reduce","acc","_ref","_ref2","event","handler","e","toSnabbdom","vdom","flatMap","map","_vdom$tag","tag","_vdom$attrs","attrs","_vdom$on","on","_vdom$content","content","props","SnabbdomRenderer","targetId","patch","getElementById","body","lastVdom","snabbdomVdom","define","amd","_Component","_Mapper","_Filter","_Counter","_Accumulator","_Hub","_Muxer","_Demuxer","_Iterator","_Serializer","_Repeater","_UniqueFilter","_Logger","_Chain","_Checker","_Guard","_Identity","_Delayer","_Ticker","_typeof","constructor","prototype","toComponent","arg","node","toNode","start","v","received","inputs","out","result","onNext","queue","listeners","forEach","l","addToQueue","processQueue","addListener","listener","connect","values","shift","select","name","io","direction","_name$split","split","_name$split2","componentName","streamName","ioStreams","ioNames","keys","Error","component2","_ref$connections","_ref$inputs","_ref$outputs","key","inNodes","outNodes","_ref3","from","to","streamOut","streamIn","initialValues","Component","_Component2","Mapper","f","Filter","cond","Counter","initial","Accumulator","k","_Mapper2","_defineProperty","configurable","writable","Hub","_len","_key","_Chain2","_Hub2","_Accumulator2","_Filter2","Muxer","apply","every","_extends","assign","source","hasOwnProperty","_toConsumableArray","arr2","Chain","args","lastIndex","first","last","concat","input","output","Demuxer","Iterator","iterable","_ref$cyclic","cyclic","_iterator$next","_iterator$next2","Serializer","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","return","Repeater","times","UniqueFilter","initialValue","lastValue","Logger","prefix","_ref$log","log","console","_Demuxer2","Checker","true","false","Guard","conds","others","match","Identity","Delayer","ms","setTimeout","Ticker","_ref$value","_ref$initialDelay","initialDelay","setInterval","vnode_1","is","htmldomapi_1","isUndef","s","isDef","emptyNode","sameVnode","vnode1","vnode2","sel","isVnode","vnode","createKeyToOldIdx","children","beginIdx","endIdx","ch","hooks","h_1","h","thunk_1","thunk","domApi","j","cbs","api","hook","emptyNodeAt","elm","className","join","tagName","toLowerCase","createRmCb","childElm","rmCb","parent_1","parentNode","removeChild","createElm","insertedVnodeQueue","data","text","createComment","hashIdx","indexOf","dotIdx","hash","dot","slice","Math","min","ns","createElementNS","createElement","replace","array","appendChild","primitive","createTextNode","create","insert","addVnodes","parentElm","before","vnodes","startIdx","insertBefore","invokeDestroyHook","destroy","removeVnodes","i_1","rm","remove","updateChildren","oldCh","newCh","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","patchVnode","nextSibling","oldVnode","prepatch","update","setTextContent","postpatch","parent","pre","post","namespaceURI","qualifiedName","newNode","referenceNode","child","textContent","getTextContent","isElement","nodeType","isText","isComment","htmlDomApi","addNS","childData","b","copyToThunk","fn","cur","old","oldArgs","invokeHandler","handleEvent","type","createListener","updateEventListeners","oldOn","oldListener","oldElm","removeEventListener","eventListenersModule","updateProps","oldProps","propsModule","toCanonicalItem","msg","_m","_m$","payload","_name$split2$","signal","toCanonicalMessage","State","options","state","transform","_m2","_m2$","Events","events","_ref2$","setComponent","View","view","vdomAccumulator","hub","globalAccumulator","_ref$state","_ref$vdom","filter","_State2","_Events2","_View2","_BlockComponents","_BlockComponents2","_objectWithoutProperties","Memory","memory","set","toObject","kvs","Block","eventInputs","eventOutputs","postState","eventState","mapInputs","comps","outputDemuxer","inputConnections","outputConnections","ComponentWrapper","compInputs","compOutputs","demuxer","muxer","Post","_Object$entries$","compName","_Object$entries$2","BlockComponents","compsNames","wrappedComps","n","Inputbox","newText","keyup"],"mappings":"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","file":"app.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"app\"] = factory();\n\telse\n\t\troot[\"app\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 232723ae9cf4f4dceeeb\n **/","import { run } from '../../dist/cyclow'\nimport Inputbox from './Inputbox'\n\nrun(Inputbox)\n\n\n\n/** WEBPACK FOOTER **\n ** ./samples/inputbox/app.js\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cyclow\"] = factory();\n\telse\n\t\troot[\"cyclow\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _run = __webpack_require__(1);\n\t\n\tObject.defineProperty(exports, 'run', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_run).default;\n\t  }\n\t});\n\t\n\tvar _SnabbdomRenderer = __webpack_require__(2);\n\t\n\tObject.defineProperty(exports, 'SnabbdomRenderer', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_SnabbdomRenderer).default;\n\t  }\n\t});\n\t\n\tvar _State = __webpack_require__(13);\n\t\n\tObject.defineProperty(exports, 'State', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_State).default;\n\t  }\n\t});\n\t\n\tvar _Events = __webpack_require__(14);\n\t\n\tObject.defineProperty(exports, 'Events', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Events).default;\n\t  }\n\t});\n\t\n\tvar _View = __webpack_require__(15);\n\t\n\tObject.defineProperty(exports, 'View', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_View).default;\n\t  }\n\t});\n\t\n\tvar _Block = __webpack_require__(16);\n\t\n\tObject.defineProperty(exports, 'Block', {\n\t  enumerable: true,\n\t  get: function get() {\n\t    return _interopRequireDefault(_Block).default;\n\t  }\n\t});\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _SnabbdomRenderer = __webpack_require__(2);\n\t\n\tvar _SnabbdomRenderer2 = _interopRequireDefault(_SnabbdomRenderer);\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tvar _graflow2 = _interopRequireDefault(_graflow);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar run = function run(MainComponent) {\n\t  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\n\t  document.addEventListener(\"DOMContentLoaded\", function () {\n\t    var init = opts.init || {};\n\t    var Renderer = opts.renderer || _SnabbdomRenderer2.default;\n\t\n\t    var comp = (0, _graflow2.default)({\n\t      outputs: [],\n\t      components: {\n\t        main: MainComponent(),\n\t        renderer: Renderer(opts.target)\n\t      },\n\t      connections: [['in', 'main.init'], ['main.vdom', 'renderer']]\n\t    });\n\t\n\t    comp.in.default.send(init);\n\t  });\n\t};\n\t\n\texports.default = run;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tvar _graflow2 = _interopRequireDefault(_graflow);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tvar _snabbdom = __webpack_require__(5);\n\t\n\tvar _snabbdom2 = _interopRequireDefault(_snabbdom);\n\t\n\tvar _eventlisteners = __webpack_require__(11);\n\t\n\tvar _eventlisteners2 = _interopRequireDefault(_eventlisteners);\n\t\n\tvar _props = __webpack_require__(12);\n\t\n\tvar _props2 = _interopRequireDefault(_props);\n\t\n\tvar _h = __webpack_require__(9);\n\t\n\tvar _h2 = _interopRequireDefault(_h);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar getHandlers = function getHandlers(handlers, component) {\n\t  return Object.entries(handlers).reduce(function (acc, _ref) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        event = _ref2[0],\n\t        handler = _ref2[1];\n\t\n\t    var next = component ? component.in.default.send : function () {};\n\t    acc[event] = function (e) {\n\t      return typeof handler === 'function' ? handler(e, next) : next(handler);\n\t    };\n\t    return acc;\n\t  }, {});\n\t};\n\t\n\tvar toSnabbdom = function toSnabbdom(vdom) {\n\t  if (typeof vdom === 'string') return vdom;\n\t  if (Array.isArray(vdom)) {\n\t    return (0, _utils.flatMap)(vdom).map(toSnabbdom);\n\t  }\n\t\n\t  var _vdom$tag = vdom.tag,\n\t      tag = _vdom$tag === undefined ? 'div' : _vdom$tag,\n\t      _vdom$attrs = vdom.attrs,\n\t      attrs = _vdom$attrs === undefined ? {} : _vdom$attrs,\n\t      _vdom$on = vdom.on,\n\t      on = _vdom$on === undefined ? {} : _vdom$on,\n\t      _vdom$content = vdom.content,\n\t      content = _vdom$content === undefined ? [] : _vdom$content,\n\t      component = vdom.component;\n\t\n\t  var handlers = getHandlers(on, component);\n\t\n\t  return (0, _h2.default)(tag, { props: attrs, on: handlers }, toSnabbdom(content));\n\t};\n\t\n\tvar SnabbdomRenderer = function SnabbdomRenderer(targetId) {\n\t  var patch = _snabbdom2.default.init([_eventlisteners2.default, _props2.default]);\n\t\n\t  var target = targetId ? document.getElementById(targetId) : document.body;\n\t  var lastVdom = target;\n\t\n\t  return (0, _graflow2.default)(function (vdom) {\n\t    var snabbdomVdom = toSnabbdom(vdom);\n\t    patch(lastVdom, snabbdomVdom);\n\t    lastVdom = snabbdomVdom;\n\t  });\n\t};\n\t\n\texports.default = SnabbdomRenderer;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t(function webpackUniversalModuleDefinition(root, factory) {\n\t\tif(true)\n\t\t\tmodule.exports = factory();\n\t\telse if(typeof define === 'function' && define.amd)\n\t\t\tdefine([], factory);\n\t\telse if(typeof exports === 'object')\n\t\t\texports[\"graflow\"] = factory();\n\t\telse\n\t\t\troot[\"graflow\"] = factory();\n\t})(this, function() {\n\treturn /******/ (function(modules) { // webpackBootstrap\n\t/******/ \t// The module cache\n\t/******/ \tvar installedModules = {};\n\t/******/\n\t/******/ \t// The require function\n\t/******/ \tfunction __webpack_require__(moduleId) {\n\t/******/\n\t/******/ \t\t// Check if module is in cache\n\t/******/ \t\tif(installedModules[moduleId])\n\t/******/ \t\t\treturn installedModules[moduleId].exports;\n\t/******/\n\t/******/ \t\t// Create a new module (and put it into the cache)\n\t/******/ \t\tvar module = installedModules[moduleId] = {\n\t/******/ \t\t\texports: {},\n\t/******/ \t\t\tid: moduleId,\n\t/******/ \t\t\tloaded: false\n\t/******/ \t\t};\n\t/******/\n\t/******/ \t\t// Execute the module function\n\t/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\t/******/\n\t/******/ \t\t// Flag the module as loaded\n\t/******/ \t\tmodule.loaded = true;\n\t/******/\n\t/******/ \t\t// Return the exports of the module\n\t/******/ \t\treturn module.exports;\n\t/******/ \t}\n\t/******/\n\t/******/\n\t/******/ \t// expose the modules object (__webpack_modules__)\n\t/******/ \t__webpack_require__.m = modules;\n\t/******/\n\t/******/ \t// expose the module cache\n\t/******/ \t__webpack_require__.c = installedModules;\n\t/******/\n\t/******/ \t// __webpack_public_path__\n\t/******/ \t__webpack_require__.p = \"\";\n\t/******/\n\t/******/ \t// Load entry module and return exports\n\t/******/ \treturn __webpack_require__(0);\n\t/******/ })\n\t/************************************************************************/\n\t/******/ ([\n\t/* 0 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tObject.defineProperty(exports, 'default', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Component).default;\n\t\t  }\n\t\t});\n\t\tObject.defineProperty(exports, 'Component', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Component).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Mapper = __webpack_require__(2);\n\t\t\n\t\tObject.defineProperty(exports, 'Mapper', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Mapper).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Filter = __webpack_require__(3);\n\t\t\n\t\tObject.defineProperty(exports, 'Filter', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Filter).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Counter = __webpack_require__(4);\n\t\t\n\t\tObject.defineProperty(exports, 'Counter', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Counter).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Accumulator = __webpack_require__(5);\n\t\t\n\t\tObject.defineProperty(exports, 'Accumulator', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Accumulator).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Hub = __webpack_require__(6);\n\t\t\n\t\tObject.defineProperty(exports, 'Hub', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Hub).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Muxer = __webpack_require__(7);\n\t\t\n\t\tObject.defineProperty(exports, 'Muxer', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Muxer).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Demuxer = __webpack_require__(9);\n\t\t\n\t\tObject.defineProperty(exports, 'Demuxer', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Demuxer).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Iterator = __webpack_require__(10);\n\t\t\n\t\tObject.defineProperty(exports, 'Iterator', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Iterator).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Serializer = __webpack_require__(11);\n\t\t\n\t\tObject.defineProperty(exports, 'Serializer', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Serializer).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Repeater = __webpack_require__(12);\n\t\t\n\t\tObject.defineProperty(exports, 'Repeater', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Repeater).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _UniqueFilter = __webpack_require__(13);\n\t\t\n\t\tObject.defineProperty(exports, 'UniqueFilter', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_UniqueFilter).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Logger = __webpack_require__(14);\n\t\t\n\t\tObject.defineProperty(exports, 'Logger', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Logger).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Chain = __webpack_require__(8);\n\t\t\n\t\tObject.defineProperty(exports, 'Chain', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Chain).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Checker = __webpack_require__(15);\n\t\t\n\t\tObject.defineProperty(exports, 'Checker', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Checker).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Guard = __webpack_require__(16);\n\t\t\n\t\tObject.defineProperty(exports, 'Guard', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Guard).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Identity = __webpack_require__(17);\n\t\t\n\t\tObject.defineProperty(exports, 'Identity', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Identity).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Delayer = __webpack_require__(18);\n\t\t\n\t\tObject.defineProperty(exports, 'Delayer', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Delayer).default;\n\t\t  }\n\t\t});\n\t\t\n\t\tvar _Ticker = __webpack_require__(19);\n\t\t\n\t\tObject.defineProperty(exports, 'Ticker', {\n\t\t  enumerable: true,\n\t\t  get: function get() {\n\t\t    return _interopRequireDefault(_Ticker).default;\n\t\t  }\n\t\t});\n\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/***/ },\n\t/* 1 */\n\t/***/ function(module, exports) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\t\n\t\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\t\n\t\tvar toComponent = function toComponent(arg) {\n\t\t  if ((typeof arg === 'undefined' ? 'undefined' : _typeof(arg)) === 'object') return arg;\n\t\t  var node = toNode(arg);\n\t\t  return {\n\t\t    start: function start() {\n\t\t      var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\t      return node.received(v);\n\t\t    },\n\t\t    inputs: { default: node },\n\t\t    outputs: { default: node },\n\t\t    in: { default: node },\n\t\t    out: { default: node }\n\t\t  };\n\t\t};\n\t\t\n\t\tvar toNode = function toNode(arg) {\n\t\t  var result = arg;\n\t\t  if (typeof arg === 'function') {\n\t\t    result = node(arg);\n\t\t  }\n\t\t  return result;\n\t\t};\n\t\t\n\t\tvar node = function node(onNext) {\n\t\t  var queue = [];\n\t\t  var listeners = [];\n\t\t  var next = function next(v) {\n\t\t    listeners.forEach(function (l) {\n\t\t      return l.addToQueue(v);\n\t\t    });\n\t\t    listeners.forEach(function (l) {\n\t\t      return l.processQueue();\n\t\t    });\n\t\t  };\n\t\t\n\t\t  var obj = {\n\t\t    addListener: function addListener(listener) {\n\t\t      listeners.push(toNode(listener));\n\t\t    },\n\t\t    on: function on(listener) {\n\t\t      obj.addListener(listener);\n\t\t    },\n\t\t    connect: function connect(listener) {\n\t\t      obj.addListener(listener);\n\t\t    },\n\t\t    addToQueue: function addToQueue(v) {\n\t\t      queue.push(v);\n\t\t    },\n\t\t    received: function received() {\n\t\t      var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\t\n\t\t      obj.addToQueue(v);\n\t\t      obj.processQueue();\n\t\t    },\n\t\t    send: function send() {\n\t\t      var v = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\t      obj.received(v);\n\t\t    },\n\t\t    processQueue: function processQueue() {\n\t\t      var values = queue.length;\n\t\t      for (var i = 1; i <= values; i++) {\n\t\t        var v = queue.shift();\n\t\t        onNext(v, next);\n\t\t      }\n\t\t    }\n\t\t  };\n\t\t\n\t\t  return obj;\n\t\t};\n\t\t\n\t\tvar select = function select(name, components) {\n\t\t  var io = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'input';\n\t\t\n\t\t  var direction = io === 'input' ? 'inputs' : 'outputs';\n\t\t\n\t\t  var _name$split = name.split('.', 2),\n\t\t      _name$split2 = _slicedToArray(_name$split, 2),\n\t\t      componentName = _name$split2[0],\n\t\t      streamName = _name$split2[1];\n\t\t\n\t\t  var ioStreams = void 0;\n\t\t  var component = components[componentName];\n\t\t\n\t\t  if (component !== undefined) {\n\t\t    ioStreams = component[direction];\n\t\t    if (ioStreams !== undefined && streamName === undefined) {\n\t\t      var ioNames = Object.keys(ioStreams);\n\t\t      if (ioNames.length === 1) streamName = ioNames[0];\n\t\t    }\n\t\t  }\n\t\t\n\t\t  if (ioStreams === undefined || ioStreams[streamName] === undefined) {\n\t\t    throw new Error(io + ' stream ' + name + ' not found!');\n\t\t  }\n\t\t\n\t\t  return ioStreams[streamName];\n\t\t};\n\t\t\n\t\tvar component2 = function component2(_ref) {\n\t\t  var components = _ref.components,\n\t\t      _ref$connections = _ref.connections,\n\t\t      connections = _ref$connections === undefined ? [] : _ref$connections,\n\t\t      _ref$inputs = _ref.inputs,\n\t\t      inputs = _ref$inputs === undefined ? ['default'] : _ref$inputs,\n\t\t      _ref$outputs = _ref.outputs,\n\t\t      outputs = _ref$outputs === undefined ? ['default'] : _ref$outputs;\n\t\t\n\t\t  Object.keys(components).forEach(function (key) {\n\t\t    components[key] = toComponent(components[key]);\n\t\t  });\n\t\t\n\t\t  var inNodes = inputs.reduce(function (acc, i) {\n\t\t    acc[i] = node(function (v, next) {\n\t\t      return next(v);\n\t\t    });\n\t\t    return acc;\n\t\t  }, {});\n\t\t\n\t\t  var outNodes = outputs.reduce(function (acc, i) {\n\t\t    acc[i] = node(function (v, next) {\n\t\t      return next(v);\n\t\t    });\n\t\t    return acc;\n\t\t  }, {});\n\t\t\n\t\t  components.in = { inputs: inNodes, outputs: inNodes };\n\t\t  components.out = { inputs: outNodes, outputs: outNodes };\n\t\t\n\t\t  connections.forEach(function (_ref2) {\n\t\t    var _ref3 = _slicedToArray(_ref2, 2),\n\t\t        from = _ref3[0],\n\t\t        to = _ref3[1];\n\t\t\n\t\t    var streamOut = select(from, components, 'output');\n\t\t    var streamIn = select(to, components, 'input');\n\t\t\n\t\t    streamOut.addListener(streamIn);\n\t\t  });\n\t\t\n\t\t  var comp = {\n\t\t    start: function start() {\n\t\t      var initialValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { default: {} };\n\t\t\n\t\t      if ((typeof initialValues === 'undefined' ? 'undefined' : _typeof(initialValues)) !== 'object') {\n\t\t        initialValues = { default: initialValues };\n\t\t      }\n\t\t      for (var key in initialValues) {\n\t\t        comp.inputs[key].received(initialValues[key]);\n\t\t      }\n\t\t    },\n\t\t    inputs: inNodes,\n\t\t    outputs: outNodes,\n\t\t    in: inNodes,\n\t\t    out: outNodes\n\t\t  };\n\t\t\n\t\t  return comp;\n\t\t};\n\t\t\n\t\tvar Component = function Component(arg) {\n\t\t  if (typeof arg === 'function') {\n\t\t    return toComponent(arg);\n\t\t  } else {\n\t\t    return component2(arg);\n\t\t  }\n\t\t};\n\t\t\n\t\texports.default = Component;\n\t\n\t/***/ },\n\t/* 2 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Mapper = function Mapper(f) {\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    return next(f(v));\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Mapper;\n\t\n\t/***/ },\n\t/* 3 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Filter = function Filter(cond) {\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    if (cond(v)) next(v);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Filter;\n\t\n\t/***/ },\n\t/* 4 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Counter = function Counter() {\n\t\t  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\t\t\n\t\t  var value = initial;\n\t\t\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    value++;\n\t\t    next(value);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Counter;\n\t\n\t/***/ },\n\t/* 5 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\t\n\t\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Accumulator = function Accumulator() {\n\t\t  var initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\t\n\t\t  var obj = initial;\n\t\t\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) !== 'object') return;\n\t\t    Object.entries(v).forEach(function (_ref) {\n\t\t      var _ref2 = _slicedToArray(_ref, 2),\n\t\t          k = _ref2[0],\n\t\t          v = _ref2[1];\n\t\t\n\t\t      obj[k] = v;\n\t\t    });\n\t\t    next(obj);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Accumulator;\n\t\n\t/***/ },\n\t/* 6 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tvar _Mapper = __webpack_require__(2);\n\t\t\n\t\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\t\n\t\tvar Hub = function Hub() {\n\t\t  for (var _len = arguments.length, inputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t    inputs[_key] = arguments[_key];\n\t\t  }\n\t\t\n\t\t  var components = {};\n\t\t  var connections = [];\n\t\t\n\t\t  inputs.forEach(function (i) {\n\t\t    components[i] = (0, _Mapper2.default)(function (v) {\n\t\t      return _defineProperty({}, i, v);\n\t\t    });\n\t\t    connections.push(['in.' + i, i], [i, 'out']);\n\t\t  });\n\t\t\n\t\t  return (0, _Component2.default)({ components: components, connections: connections, inputs: inputs });\n\t\t};\n\t\t\n\t\texports.default = Hub;\n\t\n\t/***/ },\n\t/* 7 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Chain = __webpack_require__(8);\n\t\t\n\t\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\t\n\t\tvar _Hub = __webpack_require__(6);\n\t\t\n\t\tvar _Hub2 = _interopRequireDefault(_Hub);\n\t\t\n\t\tvar _Accumulator = __webpack_require__(5);\n\t\t\n\t\tvar _Accumulator2 = _interopRequireDefault(_Accumulator);\n\t\t\n\t\tvar _Filter = __webpack_require__(3);\n\t\t\n\t\tvar _Filter2 = _interopRequireDefault(_Filter);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Muxer = function Muxer() {\n\t\t  for (var _len = arguments.length, inputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t    inputs[_key] = arguments[_key];\n\t\t  }\n\t\t\n\t\t  return (0, _Chain2.default)(_Hub2.default.apply(undefined, inputs), (0, _Accumulator2.default)(), (0, _Filter2.default)(function (v) {\n\t\t    return inputs.every(function (i) {\n\t\t      return v[i] !== undefined;\n\t\t    });\n\t\t  }));\n\t\t};\n\t\t\n\t\texports.default = Muxer;\n\t\n\t/***/ },\n\t/* 8 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\t\n\t\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\t\n\t\tvar Chain = function Chain() {\n\t\t  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t    args[_key] = arguments[_key];\n\t\t  }\n\t\t\n\t\t  var lastIndex = args.length - 1;\n\t\t  var _ref = [args[0], args[lastIndex]],\n\t\t      first = _ref[0],\n\t\t      last = _ref[1];\n\t\t\n\t\t\n\t\t  var components = args.reduce(function (obj, v, i) {\n\t\t    return _extends({}, obj, _defineProperty({}, 'c' + i, v));\n\t\t  }, {});\n\t\t\n\t\t  var inputs = Object.keys(first.inputs);\n\t\t  var outputs = Object.keys(last.outputs);\n\t\t\n\t\t  var connections = [].concat(_toConsumableArray(Array(lastIndex).keys())).map(function (i) {\n\t\t    return ['c' + i, 'c' + (i + 1)];\n\t\t  }).concat(inputs.map(function (input) {\n\t\t    return ['in.' + input, 'c0.' + input];\n\t\t  })).concat(outputs.map(function (output) {\n\t\t    return ['c' + lastIndex + '.' + output, 'out.' + output];\n\t\t  }));\n\t\t\n\t\t  return (0, _Component2.default)({ components: components, connections: connections, inputs: inputs, outputs: outputs });\n\t\t};\n\t\t\n\t\texports.default = Chain;\n\t\n\t/***/ },\n\t/* 9 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar flatMap = function flatMap(v) {\n\t\t  return [].concat.apply([], v);\n\t\t};\n\t\t\n\t\tvar Demuxer = function Demuxer() {\n\t\t  for (var _len = arguments.length, outputs = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t    outputs[_key] = arguments[_key];\n\t\t  }\n\t\t\n\t\t  return (0, _Component2.default)({\n\t\t    components: outputs.reduce(function (acc, output) {\n\t\t      acc[output] = (0, _Component2.default)(function (v, next) {\n\t\t        if (v[output] !== undefined) next(v[output]);\n\t\t      });\n\t\t      return acc;\n\t\t    }, {}),\n\t\t    outputs: outputs,\n\t\t    connections: flatMap(outputs.map(function (out) {\n\t\t      return [['in.default', out], [out, 'out.' + out]];\n\t\t    }))\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Demuxer;\n\t\n\t/***/ },\n\t/* 10 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Iterator = function Iterator(iterable) {\n\t\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t      _ref$cyclic = _ref.cyclic,\n\t\t      cyclic = _ref$cyclic === undefined ? false : _ref$cyclic;\n\t\t\n\t\t  var iterator = iterable[Symbol.iterator]();\n\t\t\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    var _iterator$next = iterator.next(),\n\t\t        value = _iterator$next.value,\n\t\t        done = _iterator$next.done;\n\t\t\n\t\t    if (done && cyclic) {\n\t\t      iterator = iterable[Symbol.iterator]();\n\t\t      var _iterator$next2 = iterator.next();\n\t\t\n\t\t      value = _iterator$next2.value;\n\t\t      done = _iterator$next2.done;\n\t\t    }\n\t\t\n\t\t    if (!done) next(value);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Iterator;\n\t\n\t/***/ },\n\t/* 11 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Serializer = function Serializer() {\n\t\t  return (0, _Component2.default)(function (iterable, next) {\n\t\t    if (iterable[Symbol.iterator]) {\n\t\t      var _iteratorNormalCompletion = true;\n\t\t      var _didIteratorError = false;\n\t\t      var _iteratorError = undefined;\n\t\t\n\t\t      try {\n\t\t        for (var _iterator = iterable[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t\t          var i = _step.value;\n\t\t          next(i);\n\t\t        }\n\t\t      } catch (err) {\n\t\t        _didIteratorError = true;\n\t\t        _iteratorError = err;\n\t\t      } finally {\n\t\t        try {\n\t\t          if (!_iteratorNormalCompletion && _iterator.return) {\n\t\t            _iterator.return();\n\t\t          }\n\t\t        } finally {\n\t\t          if (_didIteratorError) {\n\t\t            throw _iteratorError;\n\t\t          }\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Serializer;\n\t\n\t/***/ },\n\t/* 12 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Repeater = function Repeater(times) {\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    for (var i = 1; i <= times; i++) {\n\t\t      next(v);\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Repeater;\n\t\n\t/***/ },\n\t/* 13 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar UniqueFilter = function UniqueFilter(initialValue) {\n\t\t  var lastValue = initialValue;\n\t\t\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    if (v !== lastValue) {\n\t\t      lastValue = v;\n\t\t      next(v);\n\t\t    }\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = UniqueFilter;\n\t\n\t/***/ },\n\t/* 14 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Logger = function Logger() {\n\t\t  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t\t      prefix = _ref.prefix,\n\t\t      _ref$log = _ref.log,\n\t\t      log = _ref$log === undefined ? console.log : _ref$log;\n\t\t\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    if (prefix === undefined) {\n\t\t      log(v);\n\t\t    } else {\n\t\t      log(prefix, v);\n\t\t    }\n\t\t    next(v);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Logger;\n\t\n\t/***/ },\n\t/* 15 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Chain = __webpack_require__(8);\n\t\t\n\t\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\t\n\t\tvar _Mapper = __webpack_require__(2);\n\t\t\n\t\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\t\n\t\tvar _Demuxer = __webpack_require__(9);\n\t\t\n\t\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Checker = function Checker(cond) {\n\t\t  return (0, _Chain2.default)((0, _Mapper2.default)(function (v) {\n\t\t    return cond(v) ? { true: v } : { false: v };\n\t\t  }), (0, _Demuxer2.default)('true', 'false'));\n\t\t};\n\t\t\n\t\texports.default = Checker;\n\t\n\t/***/ },\n\t/* 16 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tvar _Chain = __webpack_require__(8);\n\t\t\n\t\tvar _Chain2 = _interopRequireDefault(_Chain);\n\t\t\n\t\tvar _Demuxer = __webpack_require__(9);\n\t\t\n\t\tvar _Demuxer2 = _interopRequireDefault(_Demuxer);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\t\n\t\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\t\n\t\tvar Guard = function Guard(conds) {\n\t\t  return (0, _Chain2.default)((0, _Component2.default)(function (v, next) {\n\t\t    Object.entries(conds).forEach(function (_ref) {\n\t\t      var _ref2 = _slicedToArray(_ref, 2),\n\t\t          name = _ref2[0],\n\t\t          cond = _ref2[1];\n\t\t\n\t\t      var others = [];\n\t\t      var match = false;\n\t\t\n\t\t      if (cond === 'otherwise') {\n\t\t        others.push(name);\n\t\t      } else if (typeof cond === 'function' && cond(v)) {\n\t\t        next(_defineProperty({}, name, v));\n\t\t        match = true;\n\t\t      }\n\t\t\n\t\t      if (!match) others.forEach(function (name) {\n\t\t        return next(_defineProperty({}, name, v));\n\t\t      });\n\t\t    });\n\t\t  }), _Demuxer2.default.apply(undefined, _toConsumableArray(Object.keys(conds))));\n\t\t};\n\t\t\n\t\texports.default = Guard;\n\t\n\t/***/ },\n\t/* 17 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Mapper = __webpack_require__(2);\n\t\t\n\t\tvar _Mapper2 = _interopRequireDefault(_Mapper);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Identity = function Identity() {\n\t\t  return (0, _Mapper2.default)(function (v) {\n\t\t    return v;\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Identity;\n\t\n\t/***/ },\n\t/* 18 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Delayer = function Delayer(ms) {\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    setTimeout(function () {\n\t\t      return next(v);\n\t\t    }, ms);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Delayer;\n\t\n\t/***/ },\n\t/* 19 */\n\t/***/ function(module, exports, __webpack_require__) {\n\t\n\t\t'use strict';\n\t\t\n\t\tObject.defineProperty(exports, \"__esModule\", {\n\t\t  value: true\n\t\t});\n\t\t\n\t\tvar _Component = __webpack_require__(1);\n\t\t\n\t\tvar _Component2 = _interopRequireDefault(_Component);\n\t\t\n\t\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\t\n\t\tvar Ticker = function Ticker(ms) {\n\t\t  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t\t      _ref$value = _ref.value,\n\t\t      value = _ref$value === undefined ? {} : _ref$value,\n\t\t      _ref$initialDelay = _ref.initialDelay,\n\t\t      initialDelay = _ref$initialDelay === undefined ? false : _ref$initialDelay;\n\t\t\n\t\t  return (0, _Component2.default)(function (v, next) {\n\t\t    if (!initialDelay) next(value);\n\t\t    setInterval(function () {\n\t\t      return next(value);\n\t\t    }, ms);\n\t\t  });\n\t\t};\n\t\t\n\t\texports.default = Ticker;\n\t\n\t/***/ }\n\t/******/ ])\n\t});\n\t;\n\t//# sourceMappingURL=graflow.js.map\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar flatMap = function flatMap(v) {\n\t  return [].concat.apply([], v);\n\t};\n\t\n\texports.flatMap = flatMap;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar vnode_1 = __webpack_require__(6);\n\tvar is = __webpack_require__(7);\n\tvar htmldomapi_1 = __webpack_require__(8);\n\tfunction isUndef(s) { return s === undefined; }\n\tfunction isDef(s) { return s !== undefined; }\n\tvar emptyNode = vnode_1.default('', {}, [], undefined, undefined);\n\tfunction sameVnode(vnode1, vnode2) {\n\t    return vnode1.key === vnode2.key && vnode1.sel === vnode2.sel;\n\t}\n\tfunction isVnode(vnode) {\n\t    return vnode.sel !== undefined;\n\t}\n\tfunction createKeyToOldIdx(children, beginIdx, endIdx) {\n\t    var i, map = {}, key, ch;\n\t    for (i = beginIdx; i <= endIdx; ++i) {\n\t        ch = children[i];\n\t        if (ch != null) {\n\t            key = ch.key;\n\t            if (key !== undefined)\n\t                map[key] = i;\n\t        }\n\t    }\n\t    return map;\n\t}\n\tvar hooks = ['create', 'update', 'remove', 'destroy', 'pre', 'post'];\n\tvar h_1 = __webpack_require__(9);\n\texports.h = h_1.h;\n\tvar thunk_1 = __webpack_require__(10);\n\texports.thunk = thunk_1.thunk;\n\tfunction init(modules, domApi) {\n\t    var i, j, cbs = {};\n\t    var api = domApi !== undefined ? domApi : htmldomapi_1.default;\n\t    for (i = 0; i < hooks.length; ++i) {\n\t        cbs[hooks[i]] = [];\n\t        for (j = 0; j < modules.length; ++j) {\n\t            var hook = modules[j][hooks[i]];\n\t            if (hook !== undefined) {\n\t                cbs[hooks[i]].push(hook);\n\t            }\n\t        }\n\t    }\n\t    function emptyNodeAt(elm) {\n\t        var id = elm.id ? '#' + elm.id : '';\n\t        var c = elm.className ? '.' + elm.className.split(' ').join('.') : '';\n\t        return vnode_1.default(api.tagName(elm).toLowerCase() + id + c, {}, [], undefined, elm);\n\t    }\n\t    function createRmCb(childElm, listeners) {\n\t        return function rmCb() {\n\t            if (--listeners === 0) {\n\t                var parent_1 = api.parentNode(childElm);\n\t                api.removeChild(parent_1, childElm);\n\t            }\n\t        };\n\t    }\n\t    function createElm(vnode, insertedVnodeQueue) {\n\t        var i, data = vnode.data;\n\t        if (data !== undefined) {\n\t            if (isDef(i = data.hook) && isDef(i = i.init)) {\n\t                i(vnode);\n\t                data = vnode.data;\n\t            }\n\t        }\n\t        var children = vnode.children, sel = vnode.sel;\n\t        if (sel === '!') {\n\t            if (isUndef(vnode.text)) {\n\t                vnode.text = '';\n\t            }\n\t            vnode.elm = api.createComment(vnode.text);\n\t        }\n\t        else if (sel !== undefined) {\n\t            // Parse selector\n\t            var hashIdx = sel.indexOf('#');\n\t            var dotIdx = sel.indexOf('.', hashIdx);\n\t            var hash = hashIdx > 0 ? hashIdx : sel.length;\n\t            var dot = dotIdx > 0 ? dotIdx : sel.length;\n\t            var tag = hashIdx !== -1 || dotIdx !== -1 ? sel.slice(0, Math.min(hash, dot)) : sel;\n\t            var elm = vnode.elm = isDef(data) && isDef(i = data.ns) ? api.createElementNS(i, tag)\n\t                : api.createElement(tag);\n\t            if (hash < dot)\n\t                elm.id = sel.slice(hash + 1, dot);\n\t            if (dotIdx > 0)\n\t                elm.className = sel.slice(dot + 1).replace(/\\./g, ' ');\n\t            if (is.array(children)) {\n\t                for (i = 0; i < children.length; ++i) {\n\t                    var ch = children[i];\n\t                    if (ch != null) {\n\t                        api.appendChild(elm, createElm(ch, insertedVnodeQueue));\n\t                    }\n\t                }\n\t            }\n\t            else if (is.primitive(vnode.text)) {\n\t                api.appendChild(elm, api.createTextNode(vnode.text));\n\t            }\n\t            for (i = 0; i < cbs.create.length; ++i)\n\t                cbs.create[i](emptyNode, vnode);\n\t            i = vnode.data.hook; // Reuse variable\n\t            if (isDef(i)) {\n\t                if (i.create)\n\t                    i.create(emptyNode, vnode);\n\t                if (i.insert)\n\t                    insertedVnodeQueue.push(vnode);\n\t            }\n\t        }\n\t        else {\n\t            vnode.elm = api.createTextNode(vnode.text);\n\t        }\n\t        return vnode.elm;\n\t    }\n\t    function addVnodes(parentElm, before, vnodes, startIdx, endIdx, insertedVnodeQueue) {\n\t        for (; startIdx <= endIdx; ++startIdx) {\n\t            var ch = vnodes[startIdx];\n\t            if (ch != null) {\n\t                api.insertBefore(parentElm, createElm(ch, insertedVnodeQueue), before);\n\t            }\n\t        }\n\t    }\n\t    function invokeDestroyHook(vnode) {\n\t        var i, j, data = vnode.data;\n\t        if (data !== undefined) {\n\t            if (isDef(i = data.hook) && isDef(i = i.destroy))\n\t                i(vnode);\n\t            for (i = 0; i < cbs.destroy.length; ++i)\n\t                cbs.destroy[i](vnode);\n\t            if (vnode.children !== undefined) {\n\t                for (j = 0; j < vnode.children.length; ++j) {\n\t                    i = vnode.children[j];\n\t                    if (i != null && typeof i !== \"string\") {\n\t                        invokeDestroyHook(i);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t    }\n\t    function removeVnodes(parentElm, vnodes, startIdx, endIdx) {\n\t        for (; startIdx <= endIdx; ++startIdx) {\n\t            var i_1 = void 0, listeners = void 0, rm = void 0, ch = vnodes[startIdx];\n\t            if (ch != null) {\n\t                if (isDef(ch.sel)) {\n\t                    invokeDestroyHook(ch);\n\t                    listeners = cbs.remove.length + 1;\n\t                    rm = createRmCb(ch.elm, listeners);\n\t                    for (i_1 = 0; i_1 < cbs.remove.length; ++i_1)\n\t                        cbs.remove[i_1](ch, rm);\n\t                    if (isDef(i_1 = ch.data) && isDef(i_1 = i_1.hook) && isDef(i_1 = i_1.remove)) {\n\t                        i_1(ch, rm);\n\t                    }\n\t                    else {\n\t                        rm();\n\t                    }\n\t                }\n\t                else {\n\t                    api.removeChild(parentElm, ch.elm);\n\t                }\n\t            }\n\t        }\n\t    }\n\t    function updateChildren(parentElm, oldCh, newCh, insertedVnodeQueue) {\n\t        var oldStartIdx = 0, newStartIdx = 0;\n\t        var oldEndIdx = oldCh.length - 1;\n\t        var oldStartVnode = oldCh[0];\n\t        var oldEndVnode = oldCh[oldEndIdx];\n\t        var newEndIdx = newCh.length - 1;\n\t        var newStartVnode = newCh[0];\n\t        var newEndVnode = newCh[newEndIdx];\n\t        var oldKeyToIdx;\n\t        var idxInOld;\n\t        var elmToMove;\n\t        var before;\n\t        while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\n\t            if (oldStartVnode == null) {\n\t                oldStartVnode = oldCh[++oldStartIdx]; // Vnode might have been moved left\n\t            }\n\t            else if (oldEndVnode == null) {\n\t                oldEndVnode = oldCh[--oldEndIdx];\n\t            }\n\t            else if (newStartVnode == null) {\n\t                newStartVnode = newCh[++newStartIdx];\n\t            }\n\t            else if (newEndVnode == null) {\n\t                newEndVnode = newCh[--newEndIdx];\n\t            }\n\t            else if (sameVnode(oldStartVnode, newStartVnode)) {\n\t                patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue);\n\t                oldStartVnode = oldCh[++oldStartIdx];\n\t                newStartVnode = newCh[++newStartIdx];\n\t            }\n\t            else if (sameVnode(oldEndVnode, newEndVnode)) {\n\t                patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue);\n\t                oldEndVnode = oldCh[--oldEndIdx];\n\t                newEndVnode = newCh[--newEndIdx];\n\t            }\n\t            else if (sameVnode(oldStartVnode, newEndVnode)) {\n\t                patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue);\n\t                api.insertBefore(parentElm, oldStartVnode.elm, api.nextSibling(oldEndVnode.elm));\n\t                oldStartVnode = oldCh[++oldStartIdx];\n\t                newEndVnode = newCh[--newEndIdx];\n\t            }\n\t            else if (sameVnode(oldEndVnode, newStartVnode)) {\n\t                patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue);\n\t                api.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);\n\t                oldEndVnode = oldCh[--oldEndIdx];\n\t                newStartVnode = newCh[++newStartIdx];\n\t            }\n\t            else {\n\t                if (oldKeyToIdx === undefined) {\n\t                    oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx);\n\t                }\n\t                idxInOld = oldKeyToIdx[newStartVnode.key];\n\t                if (isUndef(idxInOld)) {\n\t                    api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n\t                    newStartVnode = newCh[++newStartIdx];\n\t                }\n\t                else {\n\t                    elmToMove = oldCh[idxInOld];\n\t                    if (elmToMove.sel !== newStartVnode.sel) {\n\t                        api.insertBefore(parentElm, createElm(newStartVnode, insertedVnodeQueue), oldStartVnode.elm);\n\t                    }\n\t                    else {\n\t                        patchVnode(elmToMove, newStartVnode, insertedVnodeQueue);\n\t                        oldCh[idxInOld] = undefined;\n\t                        api.insertBefore(parentElm, elmToMove.elm, oldStartVnode.elm);\n\t                    }\n\t                    newStartVnode = newCh[++newStartIdx];\n\t                }\n\t            }\n\t        }\n\t        if (oldStartIdx > oldEndIdx) {\n\t            before = newCh[newEndIdx + 1] == null ? null : newCh[newEndIdx + 1].elm;\n\t            addVnodes(parentElm, before, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);\n\t        }\n\t        else if (newStartIdx > newEndIdx) {\n\t            removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);\n\t        }\n\t    }\n\t    function patchVnode(oldVnode, vnode, insertedVnodeQueue) {\n\t        var i, hook;\n\t        if (isDef(i = vnode.data) && isDef(hook = i.hook) && isDef(i = hook.prepatch)) {\n\t            i(oldVnode, vnode);\n\t        }\n\t        var elm = vnode.elm = oldVnode.elm;\n\t        var oldCh = oldVnode.children;\n\t        var ch = vnode.children;\n\t        if (oldVnode === vnode)\n\t            return;\n\t        if (vnode.data !== undefined) {\n\t            for (i = 0; i < cbs.update.length; ++i)\n\t                cbs.update[i](oldVnode, vnode);\n\t            i = vnode.data.hook;\n\t            if (isDef(i) && isDef(i = i.update))\n\t                i(oldVnode, vnode);\n\t        }\n\t        if (isUndef(vnode.text)) {\n\t            if (isDef(oldCh) && isDef(ch)) {\n\t                if (oldCh !== ch)\n\t                    updateChildren(elm, oldCh, ch, insertedVnodeQueue);\n\t            }\n\t            else if (isDef(ch)) {\n\t                if (isDef(oldVnode.text))\n\t                    api.setTextContent(elm, '');\n\t                addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);\n\t            }\n\t            else if (isDef(oldCh)) {\n\t                removeVnodes(elm, oldCh, 0, oldCh.length - 1);\n\t            }\n\t            else if (isDef(oldVnode.text)) {\n\t                api.setTextContent(elm, '');\n\t            }\n\t        }\n\t        else if (oldVnode.text !== vnode.text) {\n\t            api.setTextContent(elm, vnode.text);\n\t        }\n\t        if (isDef(hook) && isDef(i = hook.postpatch)) {\n\t            i(oldVnode, vnode);\n\t        }\n\t    }\n\t    return function patch(oldVnode, vnode) {\n\t        var i, elm, parent;\n\t        var insertedVnodeQueue = [];\n\t        for (i = 0; i < cbs.pre.length; ++i)\n\t            cbs.pre[i]();\n\t        if (!isVnode(oldVnode)) {\n\t            oldVnode = emptyNodeAt(oldVnode);\n\t        }\n\t        if (sameVnode(oldVnode, vnode)) {\n\t            patchVnode(oldVnode, vnode, insertedVnodeQueue);\n\t        }\n\t        else {\n\t            elm = oldVnode.elm;\n\t            parent = api.parentNode(elm);\n\t            createElm(vnode, insertedVnodeQueue);\n\t            if (parent !== null) {\n\t                api.insertBefore(parent, vnode.elm, api.nextSibling(elm));\n\t                removeVnodes(parent, [oldVnode], 0, 0);\n\t            }\n\t        }\n\t        for (i = 0; i < insertedVnodeQueue.length; ++i) {\n\t            insertedVnodeQueue[i].data.hook.insert(insertedVnodeQueue[i]);\n\t        }\n\t        for (i = 0; i < cbs.post.length; ++i)\n\t            cbs.post[i]();\n\t        return vnode;\n\t    };\n\t}\n\texports.init = init;\n\t//# sourceMappingURL=snabbdom.js.map\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tfunction vnode(sel, data, children, text, elm) {\n\t    var key = data === undefined ? undefined : data.key;\n\t    return { sel: sel, data: data, children: children,\n\t        text: text, elm: elm, key: key };\n\t}\n\texports.vnode = vnode;\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = vnode;\n\t//# sourceMappingURL=vnode.js.map\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\texports.array = Array.isArray;\n\tfunction primitive(s) {\n\t    return typeof s === 'string' || typeof s === 'number';\n\t}\n\texports.primitive = primitive;\n\t//# sourceMappingURL=is.js.map\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tfunction createElement(tagName) {\n\t    return document.createElement(tagName);\n\t}\n\tfunction createElementNS(namespaceURI, qualifiedName) {\n\t    return document.createElementNS(namespaceURI, qualifiedName);\n\t}\n\tfunction createTextNode(text) {\n\t    return document.createTextNode(text);\n\t}\n\tfunction createComment(text) {\n\t    return document.createComment(text);\n\t}\n\tfunction insertBefore(parentNode, newNode, referenceNode) {\n\t    parentNode.insertBefore(newNode, referenceNode);\n\t}\n\tfunction removeChild(node, child) {\n\t    node.removeChild(child);\n\t}\n\tfunction appendChild(node, child) {\n\t    node.appendChild(child);\n\t}\n\tfunction parentNode(node) {\n\t    return node.parentNode;\n\t}\n\tfunction nextSibling(node) {\n\t    return node.nextSibling;\n\t}\n\tfunction tagName(elm) {\n\t    return elm.tagName;\n\t}\n\tfunction setTextContent(node, text) {\n\t    node.textContent = text;\n\t}\n\tfunction getTextContent(node) {\n\t    return node.textContent;\n\t}\n\tfunction isElement(node) {\n\t    return node.nodeType === 1;\n\t}\n\tfunction isText(node) {\n\t    return node.nodeType === 3;\n\t}\n\tfunction isComment(node) {\n\t    return node.nodeType === 8;\n\t}\n\texports.htmlDomApi = {\n\t    createElement: createElement,\n\t    createElementNS: createElementNS,\n\t    createTextNode: createTextNode,\n\t    createComment: createComment,\n\t    insertBefore: insertBefore,\n\t    removeChild: removeChild,\n\t    appendChild: appendChild,\n\t    parentNode: parentNode,\n\t    nextSibling: nextSibling,\n\t    tagName: tagName,\n\t    setTextContent: setTextContent,\n\t    getTextContent: getTextContent,\n\t    isElement: isElement,\n\t    isText: isText,\n\t    isComment: isComment,\n\t};\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = exports.htmlDomApi;\n\t//# sourceMappingURL=htmldomapi.js.map\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar vnode_1 = __webpack_require__(6);\n\tvar is = __webpack_require__(7);\n\tfunction addNS(data, children, sel) {\n\t    data.ns = 'http://www.w3.org/2000/svg';\n\t    if (sel !== 'foreignObject' && children !== undefined) {\n\t        for (var i = 0; i < children.length; ++i) {\n\t            var childData = children[i].data;\n\t            if (childData !== undefined) {\n\t                addNS(childData, children[i].children, children[i].sel);\n\t            }\n\t        }\n\t    }\n\t}\n\tfunction h(sel, b, c) {\n\t    var data = {}, children, text, i;\n\t    if (c !== undefined) {\n\t        data = b;\n\t        if (is.array(c)) {\n\t            children = c;\n\t        }\n\t        else if (is.primitive(c)) {\n\t            text = c;\n\t        }\n\t        else if (c && c.sel) {\n\t            children = [c];\n\t        }\n\t    }\n\t    else if (b !== undefined) {\n\t        if (is.array(b)) {\n\t            children = b;\n\t        }\n\t        else if (is.primitive(b)) {\n\t            text = b;\n\t        }\n\t        else if (b && b.sel) {\n\t            children = [b];\n\t        }\n\t        else {\n\t            data = b;\n\t        }\n\t    }\n\t    if (is.array(children)) {\n\t        for (i = 0; i < children.length; ++i) {\n\t            if (is.primitive(children[i]))\n\t                children[i] = vnode_1.vnode(undefined, undefined, undefined, children[i]);\n\t        }\n\t    }\n\t    if (sel[0] === 's' && sel[1] === 'v' && sel[2] === 'g' &&\n\t        (sel.length === 3 || sel[3] === '.' || sel[3] === '#')) {\n\t        addNS(data, children, sel);\n\t    }\n\t    return vnode_1.vnode(sel, data, children, text, undefined);\n\t}\n\texports.h = h;\n\t;\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = h;\n\t//# sourceMappingURL=h.js.map\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\tvar h_1 = __webpack_require__(9);\n\tfunction copyToThunk(vnode, thunk) {\n\t    thunk.elm = vnode.elm;\n\t    vnode.data.fn = thunk.data.fn;\n\t    vnode.data.args = thunk.data.args;\n\t    thunk.data = vnode.data;\n\t    thunk.children = vnode.children;\n\t    thunk.text = vnode.text;\n\t    thunk.elm = vnode.elm;\n\t}\n\tfunction init(thunk) {\n\t    var cur = thunk.data;\n\t    var vnode = cur.fn.apply(undefined, cur.args);\n\t    copyToThunk(vnode, thunk);\n\t}\n\tfunction prepatch(oldVnode, thunk) {\n\t    var i, old = oldVnode.data, cur = thunk.data;\n\t    var oldArgs = old.args, args = cur.args;\n\t    if (old.fn !== cur.fn || oldArgs.length !== args.length) {\n\t        copyToThunk(cur.fn.apply(undefined, args), thunk);\n\t    }\n\t    for (i = 0; i < args.length; ++i) {\n\t        if (oldArgs[i] !== args[i]) {\n\t            copyToThunk(cur.fn.apply(undefined, args), thunk);\n\t            return;\n\t        }\n\t    }\n\t    copyToThunk(oldVnode, thunk);\n\t}\n\texports.thunk = function thunk(sel, key, fn, args) {\n\t    if (args === undefined) {\n\t        args = fn;\n\t        fn = key;\n\t        key = undefined;\n\t    }\n\t    return h_1.h(sel, {\n\t        key: key,\n\t        hook: { init: init, prepatch: prepatch },\n\t        fn: fn,\n\t        args: args\n\t    });\n\t};\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = exports.thunk;\n\t//# sourceMappingURL=thunk.js.map\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tfunction invokeHandler(handler, vnode, event) {\n\t    if (typeof handler === \"function\") {\n\t        // call function handler\n\t        handler.call(vnode, event, vnode);\n\t    }\n\t    else if (typeof handler === \"object\") {\n\t        // call handler with arguments\n\t        if (typeof handler[0] === \"function\") {\n\t            // special case for single argument for performance\n\t            if (handler.length === 2) {\n\t                handler[0].call(vnode, handler[1], event, vnode);\n\t            }\n\t            else {\n\t                var args = handler.slice(1);\n\t                args.push(event);\n\t                args.push(vnode);\n\t                handler[0].apply(vnode, args);\n\t            }\n\t        }\n\t        else {\n\t            // call multiple handlers\n\t            for (var i = 0; i < handler.length; i++) {\n\t                invokeHandler(handler[i]);\n\t            }\n\t        }\n\t    }\n\t}\n\tfunction handleEvent(event, vnode) {\n\t    var name = event.type, on = vnode.data.on;\n\t    // call event handler(s) if exists\n\t    if (on && on[name]) {\n\t        invokeHandler(on[name], vnode, event);\n\t    }\n\t}\n\tfunction createListener() {\n\t    return function handler(event) {\n\t        handleEvent(event, handler.vnode);\n\t    };\n\t}\n\tfunction updateEventListeners(oldVnode, vnode) {\n\t    var oldOn = oldVnode.data.on, oldListener = oldVnode.listener, oldElm = oldVnode.elm, on = vnode && vnode.data.on, elm = (vnode && vnode.elm), name;\n\t    // optimization for reused immutable handlers\n\t    if (oldOn === on) {\n\t        return;\n\t    }\n\t    // remove existing listeners which no longer used\n\t    if (oldOn && oldListener) {\n\t        // if element changed or deleted we remove all existing listeners unconditionally\n\t        if (!on) {\n\t            for (name in oldOn) {\n\t                // remove listener if element was changed or existing listeners removed\n\t                oldElm.removeEventListener(name, oldListener, false);\n\t            }\n\t        }\n\t        else {\n\t            for (name in oldOn) {\n\t                // remove listener if existing listener removed\n\t                if (!on[name]) {\n\t                    oldElm.removeEventListener(name, oldListener, false);\n\t                }\n\t            }\n\t        }\n\t    }\n\t    // add new listeners which has not already attached\n\t    if (on) {\n\t        // reuse existing listener or create new\n\t        var listener = vnode.listener = oldVnode.listener || createListener();\n\t        // update vnode for listener\n\t        listener.vnode = vnode;\n\t        // if element changed or added we add all needed listeners unconditionally\n\t        if (!oldOn) {\n\t            for (name in on) {\n\t                // add listener if element was changed or new listeners added\n\t                elm.addEventListener(name, listener, false);\n\t            }\n\t        }\n\t        else {\n\t            for (name in on) {\n\t                // add listener if new listener added\n\t                if (!oldOn[name]) {\n\t                    elm.addEventListener(name, listener, false);\n\t                }\n\t            }\n\t        }\n\t    }\n\t}\n\texports.eventListenersModule = {\n\t    create: updateEventListeners,\n\t    update: updateEventListeners,\n\t    destroy: updateEventListeners\n\t};\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = exports.eventListenersModule;\n\t//# sourceMappingURL=eventlisteners.js.map\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\tfunction updateProps(oldVnode, vnode) {\n\t    var key, cur, old, elm = vnode.elm, oldProps = oldVnode.data.props, props = vnode.data.props;\n\t    if (!oldProps && !props)\n\t        return;\n\t    if (oldProps === props)\n\t        return;\n\t    oldProps = oldProps || {};\n\t    props = props || {};\n\t    for (key in oldProps) {\n\t        if (!props[key]) {\n\t            delete elm[key];\n\t        }\n\t    }\n\t    for (key in props) {\n\t        cur = props[key];\n\t        old = oldProps[key];\n\t        if (old !== cur && (key !== 'value' || elm[key] !== cur)) {\n\t            elm[key] = cur;\n\t        }\n\t    }\n\t}\n\texports.propsModule = { create: updateProps, update: updateProps };\n\tObject.defineProperty(exports, \"__esModule\", { value: true });\n\texports.default = exports.propsModule;\n\t//# sourceMappingURL=props.js.map\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar toCanonicalItem = function toCanonicalItem(msg) {\n\t  var m = typeof msg === 'string' ? [msg] : msg;\n\t\n\t  var _m = _slicedToArray(m, 2),\n\t      name = _m[0],\n\t      _m$ = _m[1],\n\t      payload = _m$ === undefined ? {} : _m$;\n\t\n\t  var _name$split = name.split('.', 2),\n\t      _name$split2 = _slicedToArray(_name$split, 2),\n\t      componentName = _name$split2[0],\n\t      _name$split2$ = _name$split2[1],\n\t      signal = _name$split2$ === undefined ? 'default' : _name$split2$;\n\t\n\t  if (componentName === 'out') {\n\t    return { outputs: _defineProperty({}, signal, payload) };\n\t  } else {\n\t    return { components: _defineProperty({}, componentName, _defineProperty({}, signal, payload)) };\n\t  }\n\t};\n\t\n\tvar toCanonicalMessage = function toCanonicalMessage(msg) {\n\t  return [].concat(msg).map(toCanonicalItem);\n\t};\n\t\n\tvar State = function State() {\n\t  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t  var post = options.post;\n\t  var state = options.initial || {};\n\t\n\t  return (0, _graflow.Component)({\n\t    inputs: ['transformation'],\n\t    outputs: ['state', 'outputs', 'components'],\n\t    components: {\n\t      transform: (0, _graflow.Component)(function (v, next) {\n\t        state = v(state);\n\t        next(state);\n\t      }),\n\t      post: (0, _graflow.Chain)((0, _graflow.Component)(function (state, next) {\n\t        if (post) next(toCanonicalMessage(post(state)));\n\t      }), (0, _graflow.Serializer)(), (0, _graflow.Demuxer)('outputs', 'components'))\n\t    },\n\t    connections: [['in.transformation', 'transform'], ['transform', 'post'], ['transform', 'out.state'], ['post.outputs', 'out.outputs'], ['post.components', 'out.components']]\n\t  });\n\t};\n\t\n\texports.default = State;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tvar toCanonicalItem = function toCanonicalItem(msg) {\n\t  var m = msg;\n\t  if (typeof msg === 'function') {\n\t    m = ['state', msg];\n\t  } else if (typeof msg === 'string') {\n\t    m = [msg];\n\t  }\n\t\n\t  var _m = m,\n\t      _m2 = _slicedToArray(_m, 2),\n\t      name = _m2[0],\n\t      _m2$ = _m2[1],\n\t      payload = _m2$ === undefined ? {} : _m2$;\n\t\n\t  var _name$split = name.split('.', 2),\n\t      _name$split2 = _slicedToArray(_name$split, 2),\n\t      componentName = _name$split2[0],\n\t      _name$split2$ = _name$split2[1],\n\t      signal = _name$split2$ === undefined ? 'default' : _name$split2$;\n\t\n\t  if (componentName === 'state') {\n\t    return { state: payload };\n\t  } else if (componentName === 'out') {\n\t    return { outputs: _defineProperty({}, signal, payload) };\n\t  } else {\n\t    return { components: _defineProperty({}, componentName, _defineProperty({}, signal, payload)) };\n\t  }\n\t};\n\t\n\tvar toCanonicalMessage = function toCanonicalMessage(msg) {\n\t  return [].concat(msg).map(toCanonicalItem);\n\t};\n\t\n\tvar Events = function Events(events) {\n\t  return (0, _graflow.Chain)((0, _graflow.Component)(function (_ref, next) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        _ref2$ = _slicedToArray(_ref2[0], 2),\n\t        e = _ref2$[0],\n\t        payload = _ref2$[1],\n\t        state = _ref2[1];\n\t\n\t    if (events[e]) {\n\t      var v = events[e](payload, state || {});\n\t      if (v !== undefined) next(toCanonicalMessage(v));\n\t    }\n\t  }), (0, _graflow.Serializer)(), (0, _graflow.Demuxer)('state', 'components', 'outputs'));\n\t};\n\t\n\texports.default = Events;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tvar setComponent = function setComponent(vdom, component) {\n\t  if (Array.isArray(vdom)) {\n\t    vdom.map(function (e) {\n\t      return setComponent(e, component);\n\t    });\n\t  } else {\n\t    if ((typeof vdom === 'undefined' ? 'undefined' : _typeof(vdom)) === 'object' && !vdom.component) vdom.component = component;\n\t    if (vdom.content) setComponent(vdom.content, component);\n\t  }\n\t  return vdom;\n\t};\n\t\n\tvar View = function View(view, component) {\n\t  return (0, _graflow.Component)({\n\t    inputs: ['vdom', 'state'],\n\t    components: {\n\t      vdomAccumulator: (0, _graflow.Accumulator)(),\n\t      hub: (0, _graflow.Hub)('vdom', 'state'),\n\t      globalAccumulator: (0, _graflow.Accumulator)(),\n\t      view: (0, _graflow.Mapper)(function (_ref) {\n\t        var _ref$state = _ref.state,\n\t            state = _ref$state === undefined ? {} : _ref$state,\n\t            _ref$vdom = _ref.vdom,\n\t            vdom = _ref$vdom === undefined ? {} : _ref$vdom;\n\t        return view(state, vdom);\n\t      }),\n\t      filter: (0, _graflow.Filter)(function (v) {\n\t        return v !== undefined;\n\t      }),\n\t      post: (0, _graflow.Mapper)(function (vdom) {\n\t        return setComponent(vdom, component);\n\t      })\n\t    },\n\t    connections: [['in.vdom', 'vdomAccumulator'], ['vdomAccumulator', 'hub.vdom'], ['in.state', 'hub.state'], ['hub', 'globalAccumulator'], ['globalAccumulator', 'view'], ['view', 'filter'], ['filter', 'post'], ['post', 'out']]\n\t  });\n\t};\n\t\n\texports.default = View;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _State = __webpack_require__(13);\n\t\n\tvar _State2 = _interopRequireDefault(_State);\n\t\n\tvar _Events = __webpack_require__(14);\n\t\n\tvar _Events2 = _interopRequireDefault(_Events);\n\t\n\tvar _View = __webpack_require__(15);\n\t\n\tvar _View2 = _interopRequireDefault(_View);\n\t\n\tvar _BlockComponents = __webpack_require__(17);\n\t\n\tvar _BlockComponents2 = _interopRequireDefault(_BlockComponents);\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\t\n\tvar Memory = function Memory() {\n\t  var memory = void 0;\n\t  return (0, _graflow.Component)({\n\t    inputs: ['set', 'get'],\n\t    components: {\n\t      set: (0, _graflow.Component)(function (v) {\n\t        return memory = v;\n\t      }),\n\t      get: (0, _graflow.Mapper)(function (v) {\n\t        return [v, memory];\n\t      })\n\t    },\n\t    connections: [['in.set', 'set'], ['in.get', 'get'], ['get', 'out']]\n\t  });\n\t};\n\t\n\tvar toObject = function toObject(kvs) {\n\t  return kvs.reduce(function (obj, _ref) {\n\t    var _ref2 = _slicedToArray(_ref, 2),\n\t        k = _ref2[0],\n\t        v = _ref2[1];\n\t\n\t    obj[k] = v;\n\t    return obj;\n\t  }, {});\n\t};\n\t\n\tvar Block = function Block(options) {\n\t  var eventInputs = options.inputs || [];\n\t  var inputs = eventInputs.concat('init');\n\t\n\t  var eventOutputs = options.outputs || [];\n\t  var outputs = eventOutputs.concat('vdom');\n\t\n\t  var _ref3 = options.on || {},\n\t      postState = _ref3.state,\n\t      handlers = _objectWithoutProperties(_ref3, ['state']);\n\t\n\t  var event = (0, _graflow.Mapper)(function (msg) {\n\t    return [].concat(msg);\n\t  });\n\t\n\t  var eventState = (0, _graflow.Component)({\n\t    inputs: ['state', 'event'],\n\t    components: { state: Memory() },\n\t    connections: [['in.state', 'state.set'], ['in.event', 'state.get'], ['state', 'out']]\n\t  });\n\t\n\t  var state = (0, _State2.default)({ post: postState });\n\t  var events = (0, _Events2.default)(handlers);\n\t  var view = (0, _View2.default)(options.view, event);\n\t  var mapInputs = inputs.map(function (i) {\n\t    return ['map' + i, (0, _graflow.Mapper)(function (v) {\n\t      return [i, v];\n\t    })];\n\t  });\n\t\n\t  var comps = (0, _BlockComponents2.default)(options.components || {});\n\t\n\t  var outputDemuxer = _graflow.Demuxer.apply(undefined, _toConsumableArray(eventOutputs));\n\t\n\t  var components = _extends({ state: state, events: events, view: view, comps: comps,\n\t    outputDemuxer: outputDemuxer, eventState: eventState, event: event }, toObject(mapInputs));\n\t\n\t  var inputConnections = (0, _utils.flatMap)(inputs.map(function (input) {\n\t    return [['in.' + input, 'map' + input], ['map' + input, 'event']];\n\t  }));\n\t\n\t  var outputConnections = eventOutputs.map(function (output) {\n\t    return ['outputDemuxer.' + output, 'out.' + output];\n\t  });\n\t\n\t  var connections = inputConnections.concat(outputConnections).concat([['events.state', 'state'], ['events.components', 'comps'], ['events.outputs', 'outputDemuxer'], ['event', 'eventState.event'], ['comps.events', 'eventState.event'], ['state.state', 'eventState.state'], ['eventState', 'events'], ['comps.vdom', 'view.vdom'], ['state.state', 'view.state'], ['state.outputs', 'outputDemuxer'], ['state.components', 'comps'], ['view', 'out.vdom']]);\n\t\n\t  return (0, _graflow.Component)({ inputs: inputs, outputs: outputs, components: components, connections: connections });\n\t};\n\t\n\texports.default = Block;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\tvar _graflow = __webpack_require__(3);\n\t\n\tvar _utils = __webpack_require__(4);\n\t\n\tfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tvar ComponentWrapper = function ComponentWrapper(comp, name) {\n\t  var compInputs = Object.keys(comp.inputs);\n\t  var compOutputs = Object.keys(comp.outputs);\n\t\n\t  var components = {\n\t    main: comp,\n\t    demuxer: _graflow.Demuxer.apply(undefined, _toConsumableArray(compInputs)),\n\t    muxer: _graflow.Hub.apply(undefined, _toConsumableArray(compOutputs))\n\t  };\n\t\n\t  var connections = [['in', 'demuxer'], ['muxer', 'out']].concat(compInputs.map(function (input) {\n\t    return ['demuxer.' + input, 'main.' + input];\n\t  })).concat(compOutputs.map(function (output) {\n\t    return ['main.' + output, 'muxer.' + output];\n\t  }));\n\t\n\t  var result = (0, _graflow.Component)({ components: components, connections: connections });\n\t  if (name) result = (0, _graflow.Chain)(result, (0, _graflow.Mapper)(function (v) {\n\t    return _defineProperty({}, name, v);\n\t  }));\n\t\n\t  return result;\n\t};\n\t\n\tvar Post = function Post() {\n\t  return (0, _graflow.Chain)((0, _graflow.Component)(function (v, next) {\n\t    var _Object$entries$ = _slicedToArray(Object.entries(v)[0], 2),\n\t        compName = _Object$entries$[0],\n\t        msg = _Object$entries$[1];\n\t\n\t    var _Object$entries$2 = _slicedToArray(Object.entries(msg)[0], 2),\n\t        signal = _Object$entries$2[0],\n\t        value = _Object$entries$2[1];\n\t\n\t    if (signal === 'vdom') {\n\t      next({ vdom: _defineProperty({}, compName, value) });\n\t    } else {\n\t      var name = signal === 'default' ? compName : compName + '.' + signal;\n\t      next({ events: [name, value] });\n\t    }\n\t  }), (0, _graflow.Demuxer)('events', 'vdom'));\n\t};\n\t\n\tvar BlockComponents = function BlockComponents(comps) {\n\t  if (Object.keys(comps).length === 0) return (0, _graflow.Demuxer)('events', 'vdom');\n\t\n\t  var compsNames = Object.keys(comps);\n\t  var wrappedComps = Object.entries(comps).reduce(function (acc, _ref2) {\n\t    var _ref3 = _slicedToArray(_ref2, 2),\n\t        name = _ref3[0],\n\t        c = _ref3[1];\n\t\n\t    acc[name] = ComponentWrapper(c, name);\n\t    return acc;\n\t  }, {});\n\t\n\t  var components = _extends({\n\t    demuxer: _graflow.Demuxer.apply(undefined, _toConsumableArray(compsNames))\n\t  }, wrappedComps, {\n\t    post: Post()\n\t  });\n\t\n\t  var connections = [['in', 'demuxer'], ['post.vdom', 'out.vdom'], ['post.events', 'out.events']].concat((0, _utils.flatMap)(compsNames.map(function (n) {\n\t    return [['demuxer.' + n, n], [n, 'post']];\n\t  })));\n\t\n\t  var outputs = ['events', 'vdom'];\n\t\n\t  return (0, _graflow.Component)({ components: components, connections: connections, outputs: outputs });\n\t};\n\t\n\texports.default = BlockComponents;\n\n/***/ }\n/******/ ])\n});\n;\n//# sourceMappingURL=cyclow.js.map\n\n\n/** WEBPACK FOOTER **\n ** ./dist/cyclow.js\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 2\n ** module chunks = 0\n **/","import { Block } from '../../dist/cyclow'\n\nconst Inputbox = () => Block({\n  on: {\n    init: () => text => '',\n    text: newText => text => newText\n  },\n  view: text => ({content: [\n    {tag: 'input',\n      attrs: {id: 'myInput', value: text},\n      on: {keyup: (e, next) => next(['text', e.target.value])}\n    },\n    {tag: 'h1', content: text}\n  ]})\n})\n\nexport default Inputbox\n\n\n\n/** WEBPACK FOOTER **\n ** ./samples/inputbox/Inputbox.js\n **/"],"sourceRoot":""}